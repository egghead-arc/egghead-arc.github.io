var us=Object.defineProperty;var ls=(r,e,t)=>e in r?us(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var p=(r,e,t)=>ls(r,typeof e!="symbol"?e+"":e,t);import{P as fs,O as hs,r as V,Q as ds,J as ps,N as We,S as ms,U as ys,a2 as gs,j as M,a3 as vs,V as it,W as bs,a4 as gt,a5 as we,a6 as Oe,a7 as G,a8 as Es,a9 as Gn,aa as Lt,ab as ks,ac as Ss,ad as $r,ae as Hn,u as ws,a as Os,af as Ts,ag as xs}from"./en_US-AV7YDYDW-BcUO4i0M.js";import{P as Cs}from"./PageWrapper-CSmq-Nki.js";function _s(r){return fs("MuiTable",r)}hs("MuiTable",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","stickyHeader","stickyFooter","noWrap","hoverRow","borderAxisNone","borderAxisX","borderAxisXBetween","borderAxisY","borderAxisYBetween","borderAxisBoth","borderAxisBothBetween"]);const Is=["className","component","children","borderAxis","hoverRow","noWrap","size","variant","color","stripe","stickyHeader","stickyFooter","slots","slotProps"],Ns=r=>{const{size:e,variant:t,color:n,borderAxis:i,stickyHeader:s,stickyFooter:o,noWrap:a,hoverRow:c}=r,u={root:["root",s&&"stickyHeader",o&&"stickyFooter",a&&"noWrap",c&&"hoverRow",i&&`borderAxis${it(i)}`,t&&`variant${it(t)}`,n&&`color${it(n)}`,e&&`size${it(e)}`]};return bs(u,_s,{})},P={getColumnExceptFirst(){return"& tr > *:not(:first-of-type), & tr > th + td, & tr > td + th"},getCell(){return"& th, & td"},getHeadCell(){return"& th"},getHeaderCell(){return"& thead th"},getHeaderCellOfRow(r){return`& thead tr:nth-of-type(${r}) th`},getBottomHeaderCell(){return"& thead th:not([colspan])"},getHeaderNestedFirstColumn(){return"& thead tr:not(:first-of-type) th:not([colspan]):first-of-type"},getDataCell(){return"& td"},getDataCellExceptLastRow(){return"& tr:not(:last-of-type) > td"},getBodyCellExceptLastRow(){return`${this.getDataCellExceptLastRow()}, & tr:not(:last-of-type) > th[scope="row"]`},getBodyCellOfRow(r){return typeof r=="number"&&r<0?`& tbody tr:nth-last-of-type(${Math.abs(r)}) td, & tbody tr:nth-last-of-type(${Math.abs(r)}) th[scope="row"]`:`& tbody tr:nth-of-type(${r}) td, & tbody tr:nth-of-type(${r}) th[scope="row"]`},getBodyRow(r){return r===void 0?"& tbody tr":`& tbody tr:nth-of-type(${r})`},getFooterCell(){return"& tfoot th, & tfoot td"},getFooterFirstRowCell(){return"& tfoot tr:not(:last-of-type) th, & tfoot tr:not(:last-of-type) td"}},As=ys("table",{name:"JoyTable",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r,ownerState:e})=>{var t,n,i,s,o,a,c;const u=(t=r.variants[e.variant])==null?void 0:t[e.color];return[We({"--Table-headerUnderlineThickness":"2px","--TableCell-borderColor":(n=u==null?void 0:u.borderColor)!=null?n:r.vars.palette.divider,"--TableCell-headBackground":`var(--Sheet-background, ${r.vars.palette.background.surface})`},e.size==="sm"&&{"--unstable_TableCell-height":"var(--TableCell-height, 32px)","--TableCell-paddingX":"0.25rem","--TableCell-paddingY":"0.25rem"},e.size==="md"&&{"--unstable_TableCell-height":"var(--TableCell-height, 40px)","--TableCell-paddingX":"0.5rem","--TableCell-paddingY":"0.375rem"},e.size==="lg"&&{"--unstable_TableCell-height":"var(--TableCell-height, 48px)","--TableCell-paddingX":"0.75rem","--TableCell-paddingY":"0.5rem"},{tableLayout:"fixed",width:"100%",borderSpacing:"0px",borderCollapse:"separate",borderRadius:"var(--TableCell-cornerRadius, var(--unstable_actionRadius))"},r.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[e.size]}`],(i=r.variants[e.variant])==null?void 0:i[e.color],{"& caption":{color:r.vars.palette.text.tertiary,padding:"calc(2 * var(--TableCell-paddingY)) var(--TableCell-paddingX)"},[P.getDataCell()]:We({padding:"var(--TableCell-paddingY) var(--TableCell-paddingX)",height:"var(--unstable_TableCell-height)",borderColor:"var(--TableCell-borderColor)",backgroundColor:"var(--TableCell-dataBackground)"},e.noWrap&&{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}),[P.getHeadCell()]:{textAlign:"left",padding:"var(--TableCell-paddingY) var(--TableCell-paddingX)",backgroundColor:"var(--TableCell-headBackground)",height:"var(--unstable_TableCell-height)",fontWeight:r.vars.fontWeight.lg,borderColor:"var(--TableCell-borderColor)",color:r.vars.palette.text.secondary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},[P.getHeaderCell()]:{verticalAlign:"bottom","&:first-of-type":{borderTopLeftRadius:"var(--TableCell-cornerRadius, var(--unstable_actionRadius))"},"&:last-of-type":{borderTopRightRadius:"var(--TableCell-cornerRadius, var(--unstable_actionRadius))"}},"& tfoot tr > *":{backgroundColor:`var(--TableCell-footBackground, ${r.vars.palette.background.level1})`,"&:first-of-type":{borderBottomLeftRadius:"var(--TableCell-cornerRadius, var(--unstable_actionRadius))"},"&:last-of-type":{borderBottomRightRadius:"var(--TableCell-cornerRadius, var(--unstable_actionRadius))"}}}),(((s=e.borderAxis)==null?void 0:s.startsWith("x"))||((o=e.borderAxis)==null?void 0:o.startsWith("both")))&&{[P.getHeaderCell()]:{borderBottomWidth:1,borderBottomStyle:"solid"},[P.getBottomHeaderCell()]:{borderBottomWidth:"var(--Table-headerUnderlineThickness)",borderBottomStyle:"solid"},[P.getBodyCellExceptLastRow()]:{borderBottomWidth:1,borderBottomStyle:"solid"},[P.getFooterCell()]:{borderTopWidth:1,borderTopStyle:"solid"}},(((a=e.borderAxis)==null?void 0:a.startsWith("y"))||((c=e.borderAxis)==null?void 0:c.startsWith("both")))&&{[`${P.getColumnExceptFirst()}, ${P.getHeaderNestedFirstColumn()}`]:{borderLeftWidth:1,borderLeftStyle:"solid"}},(e.borderAxis==="x"||e.borderAxis==="both")&&{[P.getHeaderCellOfRow(1)]:{borderTopWidth:1,borderTopStyle:"solid"},[P.getBodyCellOfRow(-1)]:{borderBottomWidth:1,borderBottomStyle:"solid"},[P.getFooterCell()]:{borderBottomWidth:1,borderBottomStyle:"solid"}},(e.borderAxis==="y"||e.borderAxis==="both")&&{"& tr > *:first-of-type":{borderLeftWidth:1,borderLeftStyle:"solid"},"& tr > *:last-of-type:not(:first-of-type)":{borderRightWidth:1,borderRightStyle:"solid"}},e.stripe&&{[P.getBodyRow(e.stripe)]:{background:`var(--TableRow-stripeBackground, ${r.vars.palette.background.level2})`,color:r.vars.palette.text.primary}},e.hoverRow&&{[P.getBodyRow()]:{"&:hover":{background:`var(--TableRow-hoverBackground, ${r.vars.palette.background.level3})`}}},e.stickyHeader&&{[P.getHeaderCell()]:{position:"sticky",top:0,zIndex:r.vars.zIndex.table},[P.getHeaderCellOfRow(2)]:{top:"var(--unstable_TableCell-height)"}},e.stickyFooter&&{[P.getFooterCell()]:{position:"sticky",bottom:0,zIndex:r.vars.zIndex.table,color:r.vars.palette.text.secondary,fontWeight:r.vars.fontWeight.lg},[P.getFooterFirstRowCell()]:{bottom:"var(--unstable_TableCell-height)"}}]}),Ds=V.forwardRef(function(e,t){const n=ds({props:e,name:"JoyTable"}),{className:i,component:s,children:o,borderAxis:a="xBetween",hoverRow:c=!1,noWrap:u=!1,size:l="md",variant:f="plain",color:h="neutral",stripe:d,stickyHeader:m=!1,stickyFooter:b=!1,slots:y={},slotProps:v={}}=n,E=ps(n,Is),w=We({},n,{borderAxis:a,hoverRow:c,noWrap:u,component:s,size:l,color:h,variant:f,stripe:d,stickyHeader:m,stickyFooter:b}),O=Ns(w),T=We({},E,{component:s,slots:y,slotProps:v}),[U,q]=ms("root",{ref:t,className:gs(O.root,i),elementType:As,externalForwardedProps:T,ownerState:w});return M.jsx(vs.Provider,{value:!0,children:M.jsx(U,We({},q,{children:o}))})});function ct(r,e){if(!!!r)throw new Error(e)}function Fs(r){return typeof r=="object"&&r!==null}function Rs(r,e){if(!!!r)throw new Error("Unexpected invariant triggered.")}const Ps=/\r\n|[\n\r]/g;function ir(r,e){let t=0,n=1;for(const i of r.body.matchAll(Ps)){if(typeof i.index=="number"||Rs(!1),i.index>=e)break;t=i.index+i[0].length,n+=1}return{line:n,column:e+1-t}}function Ms(r){return Yn(r.source,ir(r.source,r.start))}function Yn(r,e){const t=r.locationOffset.column-1,n="".padStart(t)+r.body,i=e.line-1,s=r.locationOffset.line-1,o=e.line+s,a=e.line===1?t:0,c=e.column+a,u=`${r.name}:${o}:${c}
`,l=n.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){const h=Math.floor(c/80),d=c%80,m=[];for(let b=0;b<f.length;b+=80)m.push(f.slice(b,b+80));return u+Gr([[`${o} |`,m[0]],...m.slice(1,h+1).map(b=>["|",b]),["|","^".padStart(d)],["|",m[h+1]]])}return u+Gr([[`${o-1} |`,l[i-1]],[`${o} |`,f],["|","^".padStart(c)],[`${o+1} |`,l[i+1]]])}function Gr(r){const e=r.filter(([n,i])=>i!==void 0),t=Math.max(...e.map(([n])=>n.length));return e.map(([n,i])=>n.padStart(t)+(i?" "+i:"")).join(`
`)}function Ls(r){const e=r[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:r[1],positions:r[2],path:r[3],originalError:r[4],extensions:r[5]}:e}class kr extends Error{constructor(e,...t){var n,i,s;const{nodes:o,source:a,positions:c,path:u,originalError:l,extensions:f}=Ls(t);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=l??void 0,this.nodes=Hr(Array.isArray(o)?o:o?[o]:void 0);const h=Hr((n=this.nodes)===null||n===void 0?void 0:n.map(m=>m.loc).filter(m=>m!=null));this.source=a??(h==null||(i=h[0])===null||i===void 0?void 0:i.source),this.positions=c??(h==null?void 0:h.map(m=>m.start)),this.locations=c&&a?c.map(m=>ir(a,m)):h==null?void 0:h.map(m=>ir(m.source,m.start));const d=Fs(l==null?void 0:l.extensions)?l==null?void 0:l.extensions:void 0;this.extensions=(s=f??d)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,kr):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+Ms(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+Yn(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Hr(r){return r===void 0||r.length===0?void 0:r}function j(r,e,t){return new kr(`Syntax Error: ${t}`,{source:r,positions:[e]})}class js{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Jn{constructor(e,t,n,i,s,o){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Kn={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Vs=new Set(Object.keys(Kn));function Yr(r){const e=r==null?void 0:r.kind;return typeof e=="string"&&Vs.has(e)}var J;(function(r){r.QUERY="query",r.MUTATION="mutation",r.SUBSCRIPTION="subscription"})(J||(J={}));var sr;(function(r){r.QUERY="QUERY",r.MUTATION="MUTATION",r.SUBSCRIPTION="SUBSCRIPTION",r.FIELD="FIELD",r.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",r.FRAGMENT_SPREAD="FRAGMENT_SPREAD",r.INLINE_FRAGMENT="INLINE_FRAGMENT",r.VARIABLE_DEFINITION="VARIABLE_DEFINITION",r.SCHEMA="SCHEMA",r.SCALAR="SCALAR",r.OBJECT="OBJECT",r.FIELD_DEFINITION="FIELD_DEFINITION",r.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",r.INTERFACE="INTERFACE",r.UNION="UNION",r.ENUM="ENUM",r.ENUM_VALUE="ENUM_VALUE",r.INPUT_OBJECT="INPUT_OBJECT",r.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(sr||(sr={}));var k;(function(r){r.NAME="Name",r.DOCUMENT="Document",r.OPERATION_DEFINITION="OperationDefinition",r.VARIABLE_DEFINITION="VariableDefinition",r.SELECTION_SET="SelectionSet",r.FIELD="Field",r.ARGUMENT="Argument",r.FRAGMENT_SPREAD="FragmentSpread",r.INLINE_FRAGMENT="InlineFragment",r.FRAGMENT_DEFINITION="FragmentDefinition",r.VARIABLE="Variable",r.INT="IntValue",r.FLOAT="FloatValue",r.STRING="StringValue",r.BOOLEAN="BooleanValue",r.NULL="NullValue",r.ENUM="EnumValue",r.LIST="ListValue",r.OBJECT="ObjectValue",r.OBJECT_FIELD="ObjectField",r.DIRECTIVE="Directive",r.NAMED_TYPE="NamedType",r.LIST_TYPE="ListType",r.NON_NULL_TYPE="NonNullType",r.SCHEMA_DEFINITION="SchemaDefinition",r.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",r.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",r.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",r.FIELD_DEFINITION="FieldDefinition",r.INPUT_VALUE_DEFINITION="InputValueDefinition",r.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",r.UNION_TYPE_DEFINITION="UnionTypeDefinition",r.ENUM_TYPE_DEFINITION="EnumTypeDefinition",r.ENUM_VALUE_DEFINITION="EnumValueDefinition",r.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",r.DIRECTIVE_DEFINITION="DirectiveDefinition",r.SCHEMA_EXTENSION="SchemaExtension",r.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",r.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",r.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",r.UNION_TYPE_EXTENSION="UnionTypeExtension",r.ENUM_TYPE_EXTENSION="EnumTypeExtension",r.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(k||(k={}));function or(r){return r===9||r===32}function He(r){return r>=48&&r<=57}function Xn(r){return r>=97&&r<=122||r>=65&&r<=90}function Zn(r){return Xn(r)||r===95}function qs(r){return Xn(r)||He(r)||r===95}function Bs(r){var e;let t=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let o=0;o<r.length;++o){var s;const a=r[o],c=Us(a);c!==a.length&&(n=(s=n)!==null&&s!==void 0?s:o,i=o,o!==0&&c<t&&(t=c))}return r.map((o,a)=>a===0?o:o.slice(t)).slice((e=n)!==null&&e!==void 0?e:0,i+1)}function Us(r){let e=0;for(;e<r.length&&or(r.charCodeAt(e));)++e;return e}function Ws(r,e){const t=r.replace(/"""/g,'\\"""'),n=t.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(d=>d.length===0||or(d.charCodeAt(0))),o=t.endsWith('\\"""'),a=r.endsWith('"')&&!o,c=r.endsWith("\\"),u=a||c,l=!i||r.length>70||u||s||o;let f="";const h=i&&or(r.charCodeAt(0));return(l&&!h||s)&&(f+=`
`),f+=t,(l||u)&&(f+=`
`),'"""'+f+'"""'}var g;(function(r){r.SOF="<SOF>",r.EOF="<EOF>",r.BANG="!",r.DOLLAR="$",r.AMP="&",r.PAREN_L="(",r.PAREN_R=")",r.SPREAD="...",r.COLON=":",r.EQUALS="=",r.AT="@",r.BRACKET_L="[",r.BRACKET_R="]",r.BRACE_L="{",r.PIPE="|",r.BRACE_R="}",r.NAME="Name",r.INT="Int",r.FLOAT="Float",r.STRING="String",r.BLOCK_STRING="BlockString",r.COMMENT="Comment"})(g||(g={}));class zs{constructor(e){const t=new Jn(g.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==g.EOF)do if(e.next)e=e.next;else{const t=$s(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===g.COMMENT);return e}}function Qs(r){return r===g.BANG||r===g.DOLLAR||r===g.AMP||r===g.PAREN_L||r===g.PAREN_R||r===g.SPREAD||r===g.COLON||r===g.EQUALS||r===g.AT||r===g.BRACKET_L||r===g.BRACKET_R||r===g.BRACE_L||r===g.PIPE||r===g.BRACE_R}function De(r){return r>=0&&r<=55295||r>=57344&&r<=1114111}function xt(r,e){return ei(r.charCodeAt(e))&&ti(r.charCodeAt(e+1))}function ei(r){return r>=55296&&r<=56319}function ti(r){return r>=56320&&r<=57343}function pe(r,e){const t=r.source.body.codePointAt(e);if(t===void 0)return g.EOF;if(t>=32&&t<=126){const n=String.fromCodePoint(t);return n==='"'?`'"'`:`"${n}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function D(r,e,t,n,i){const s=r.line,o=1+t-r.lineStart;return new Jn(e,t,n,s,o,i)}function $s(r,e){const t=r.source.body,n=t.length;let i=e;for(;i<n;){const s=t.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++r.line,r.lineStart=i;continue;case 13:t.charCodeAt(i+1)===10?i+=2:++i,++r.line,r.lineStart=i;continue;case 35:return Gs(r,i);case 33:return D(r,g.BANG,i,i+1);case 36:return D(r,g.DOLLAR,i,i+1);case 38:return D(r,g.AMP,i,i+1);case 40:return D(r,g.PAREN_L,i,i+1);case 41:return D(r,g.PAREN_R,i,i+1);case 46:if(t.charCodeAt(i+1)===46&&t.charCodeAt(i+2)===46)return D(r,g.SPREAD,i,i+3);break;case 58:return D(r,g.COLON,i,i+1);case 61:return D(r,g.EQUALS,i,i+1);case 64:return D(r,g.AT,i,i+1);case 91:return D(r,g.BRACKET_L,i,i+1);case 93:return D(r,g.BRACKET_R,i,i+1);case 123:return D(r,g.BRACE_L,i,i+1);case 124:return D(r,g.PIPE,i,i+1);case 125:return D(r,g.BRACE_R,i,i+1);case 34:return t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34?Zs(r,i):Ys(r,i)}if(He(s)||s===45)return Hs(r,i,s);if(Zn(s))return eo(r,i);throw j(r.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:De(s)||xt(t,i)?`Unexpected character: ${pe(r,i)}.`:`Invalid character: ${pe(r,i)}.`)}return D(r,g.EOF,n,n)}function Gs(r,e){const t=r.source.body,n=t.length;let i=e+1;for(;i<n;){const s=t.charCodeAt(i);if(s===10||s===13)break;if(De(s))++i;else if(xt(t,i))i+=2;else break}return D(r,g.COMMENT,e,i,t.slice(e+1,i))}function Hs(r,e,t){const n=r.source.body;let i=e,s=t,o=!1;if(s===45&&(s=n.charCodeAt(++i)),s===48){if(s=n.charCodeAt(++i),He(s))throw j(r.source,i,`Invalid number, unexpected digit after 0: ${pe(r,i)}.`)}else i=jt(r,i,s),s=n.charCodeAt(i);if(s===46&&(o=!0,s=n.charCodeAt(++i),i=jt(r,i,s),s=n.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=n.charCodeAt(++i),(s===43||s===45)&&(s=n.charCodeAt(++i)),i=jt(r,i,s),s=n.charCodeAt(i)),s===46||Zn(s))throw j(r.source,i,`Invalid number, expected digit but got: ${pe(r,i)}.`);return D(r,o?g.FLOAT:g.INT,e,i,n.slice(e,i))}function jt(r,e,t){if(!He(t))throw j(r.source,e,`Invalid number, expected digit but got: ${pe(r,e)}.`);const n=r.source.body;let i=e+1;for(;He(n.charCodeAt(i));)++i;return i}function Ys(r,e){const t=r.source.body,n=t.length;let i=e+1,s=i,o="";for(;i<n;){const a=t.charCodeAt(i);if(a===34)return o+=t.slice(s,i),D(r,g.STRING,e,i+1,o);if(a===92){o+=t.slice(s,i);const c=t.charCodeAt(i+1)===117?t.charCodeAt(i+2)===123?Js(r,i):Ks(r,i):Xs(r,i);o+=c.value,i+=c.size,s=i;continue}if(a===10||a===13)break;if(De(a))++i;else if(xt(t,i))i+=2;else throw j(r.source,i,`Invalid character within String: ${pe(r,i)}.`)}throw j(r.source,i,"Unterminated string.")}function Js(r,e){const t=r.source.body;let n=0,i=3;for(;i<12;){const s=t.charCodeAt(e+i++);if(s===125){if(i<5||!De(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|Ve(s),n<0)break}throw j(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+i)}".`)}function Ks(r,e){const t=r.source.body,n=Jr(t,e+2);if(De(n))return{value:String.fromCodePoint(n),size:6};if(ei(n)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const i=Jr(t,e+8);if(ti(i))return{value:String.fromCodePoint(n,i),size:12}}throw j(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function Jr(r,e){return Ve(r.charCodeAt(e))<<12|Ve(r.charCodeAt(e+1))<<8|Ve(r.charCodeAt(e+2))<<4|Ve(r.charCodeAt(e+3))}function Ve(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function Xs(r,e){const t=r.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw j(r.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function Zs(r,e){const t=r.source.body,n=t.length;let i=r.lineStart,s=e+3,o=s,a="";const c=[];for(;s<n;){const u=t.charCodeAt(s);if(u===34&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34){a+=t.slice(o,s),c.push(a);const l=D(r,g.BLOCK_STRING,e,s+3,Bs(c).join(`
`));return r.line+=c.length-1,r.lineStart=i,l}if(u===92&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34&&t.charCodeAt(s+3)===34){a+=t.slice(o,s),o=s+1,s+=4;continue}if(u===10||u===13){a+=t.slice(o,s),c.push(a),u===13&&t.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(De(u))++s;else if(xt(t,s))s+=2;else throw j(r.source,s,`Invalid character within String: ${pe(r,s)}.`)}throw j(r.source,s,"Unterminated string.")}function eo(r,e){const t=r.source.body,n=t.length;let i=e+1;for(;i<n;){const s=t.charCodeAt(i);if(qs(s))++i;else break}return D(r,g.NAME,e,i,t.slice(e,i))}const to=10,ri=2;function Sr(r){return Ct(r,[])}function Ct(r,e){switch(typeof r){case"string":return JSON.stringify(r);case"function":return r.name?`[function ${r.name}]`:"[function]";case"object":return ro(r,e);default:return String(r)}}function ro(r,e){if(r===null)return"null";if(e.includes(r))return"[Circular]";const t=[...e,r];if(no(r)){const n=r.toJSON();if(n!==r)return typeof n=="string"?n:Ct(n,t)}else if(Array.isArray(r))return so(r,t);return io(r,t)}function no(r){return typeof r.toJSON=="function"}function io(r,e){const t=Object.entries(r);return t.length===0?"{}":e.length>ri?"["+oo(r)+"]":"{ "+t.map(([i,s])=>i+": "+Ct(s,e)).join(", ")+" }"}function so(r,e){if(r.length===0)return"[]";if(e.length>ri)return"[Array]";const t=Math.min(to,r.length),n=r.length-t,i=[];for(let s=0;s<t;++s)i.push(Ct(r[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function oo(r){const e=Object.prototype.toString.call(r).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof r.constructor=="function"){const t=r.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}const ao=globalThis.process&&!0,co=ao?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var n;const i=t.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(i===s){const o=Sr(e);throw new Error(`Cannot use ${i} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class ni{constructor(e,t="GraphQL request",n={line:1,column:1}){typeof e=="string"||ct(!1,`Body must be a string. Received: ${Sr(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||ct(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ct(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function uo(r){return co(r,ni)}function lo(r,e){const t=new fo(r,e),n=t.parseDocument();return Object.defineProperty(n,"tokenCount",{enumerable:!1,value:t.tokenCount}),n}class fo{constructor(e,t={}){const n=uo(e)?e:new ni(e);this._lexer=new zs(n),this._options=t,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(g.NAME);return this.node(e,{kind:k.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:k.DOCUMENT,definitions:this.many(g.SOF,this.parseDefinition,g.EOF)})}parseDefinition(){if(this.peek(g.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===g.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw j(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(g.BRACE_L))return this.node(e,{kind:k.OPERATION_DEFINITION,operation:J.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(g.NAME)&&(n=this.parseName()),this.node(e,{kind:k.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(g.NAME);switch(e.value){case"query":return J.QUERY;case"mutation":return J.MUTATION;case"subscription":return J.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(g.PAREN_L,this.parseVariableDefinition,g.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:k.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(g.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(g.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(g.DOLLAR),this.node(e,{kind:k.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:k.SELECTION_SET,selections:this.many(g.BRACE_L,this.parseSelection,g.BRACE_R)})}parseSelection(){return this.peek(g.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,i;return this.expectOptionalToken(g.COLON)?(n=t,i=this.parseName()):i=t,this.node(e,{kind:k.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(g.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(g.PAREN_L,t,g.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(g.COLON),this.node(t,{kind:k.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(g.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(g.NAME)?this.node(e,{kind:k.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:k.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:k.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:k.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case g.BRACKET_L:return this.parseList(e);case g.BRACE_L:return this.parseObject(e);case g.INT:return this.advanceLexer(),this.node(t,{kind:k.INT,value:t.value});case g.FLOAT:return this.advanceLexer(),this.node(t,{kind:k.FLOAT,value:t.value});case g.STRING:case g.BLOCK_STRING:return this.parseStringLiteral();case g.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:k.BOOLEAN,value:!0});case"false":return this.node(t,{kind:k.BOOLEAN,value:!1});case"null":return this.node(t,{kind:k.NULL});default:return this.node(t,{kind:k.ENUM,value:t.value})}case g.DOLLAR:if(e)if(this.expectToken(g.DOLLAR),this._lexer.token.kind===g.NAME){const n=this._lexer.token.value;throw j(this._lexer.source,t.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:k.STRING,value:e.value,block:e.kind===g.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:k.LIST,values:this.any(g.BRACKET_L,t,g.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:k.OBJECT,fields:this.any(g.BRACE_L,t,g.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(g.COLON),this.node(t,{kind:k.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(g.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(g.AT),this.node(t,{kind:k.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(g.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(g.BRACKET_R),t=this.node(e,{kind:k.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(g.BANG)?this.node(e,{kind:k.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:k.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(g.STRING)||this.peek(g.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.many(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);return this.node(e,{kind:k.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(g.COLON);const n=this.parseNamedType();return this.node(e,{kind:k.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:k.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:k.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(g.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(g.BRACE_L,this.parseFieldDefinition,g.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(g.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:k.FIELD_DEFINITION,description:t,name:n,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(g.PAREN_L,this.parseInputValueDef,g.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(g.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(g.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:k.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:k.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:k.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(g.EQUALS)?this.delimitedMany(g.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:k.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(g.BRACE_L,this.parseEnumValueDefinition,g.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:k.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw j(this._lexer.source,this._lexer.token.start,`${st(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:k.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(g.BRACE_L,this.parseInputValueDef,g.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===g.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);if(t.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:k.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:k.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:k.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:k.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:k.UNION_TYPE_EXTENSION,name:t,directives:n,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:k.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:k.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(g.AT);const n=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:k.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(g.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(sr,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new js(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw j(this._lexer.source,t.start,`Expected ${ii(e)}, found ${st(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===g.NAME&&t.value===e)this.advanceLexer();else throw j(this._lexer.source,t.start,`Expected "${e}", found ${st(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===g.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e??this._lexer.token;return j(this._lexer.source,t.start,`Unexpected ${st(t)}.`)}any(e,t,n){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(n);)i.push(t.call(this));return i}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,t,n){this.expectToken(e);const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==g.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw j(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function st(r){const e=r.value;return ii(r.kind)+(e!=null?` "${e}"`:"")}function ii(r){return Qs(r)?`"${r}"`:r}function ho(r){return`"${r.replace(po,mo)}"`}const po=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function mo(r){return yo[r.charCodeAt(0)]}const yo=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],wr=Object.freeze({});function X(r,e,t=Kn){const n=new Map;for(const v of Object.values(k))n.set(v,go(e,v));let i,s=Array.isArray(r),o=[r],a=-1,c=[],u=r,l,f;const h=[],d=[];do{a++;const v=a===o.length,E=v&&c.length!==0;if(v){if(l=d.length===0?void 0:h[h.length-1],u=f,f=d.pop(),E)if(s){u=u.slice();let O=0;for(const[T,U]of c){const q=T-O;U===null?(u.splice(q,1),O++):u[q]=U}}else{u={...u};for(const[O,T]of c)u[O]=T}a=i.index,o=i.keys,c=i.edits,s=i.inArray,i=i.prev}else if(f){if(l=s?a:o[a],u=f[l],u==null)continue;h.push(l)}let w;if(!Array.isArray(u)){var m,b;Yr(u)||ct(!1,`Invalid AST Node: ${Sr(u)}.`);const O=v?(m=n.get(u.kind))===null||m===void 0?void 0:m.leave:(b=n.get(u.kind))===null||b===void 0?void 0:b.enter;if(w=O==null?void 0:O.call(e,u,l,f,h,d),w===wr)break;if(w===!1){if(!v){h.pop();continue}}else if(w!==void 0&&(c.push([l,w]),!v))if(Yr(w))u=w;else{h.pop();continue}}if(w===void 0&&E&&c.push([l,u]),v)h.pop();else{var y;i={inArray:s,index:a,keys:o,edits:c,prev:i},s=Array.isArray(u),o=s?u:(y=t[u.kind])!==null&&y!==void 0?y:[],a=-1,c=[],f&&d.push(f),f=u}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:r}function go(r,e){const t=r[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:r.enter,leave:r.leave}}function vo(r){return X(r,Eo)}const bo=80,Eo={Name:{leave:r=>r.value},Variable:{leave:r=>"$"+r.name},Document:{leave:r=>S(r.definitions,`

`)},OperationDefinition:{leave(r){const e=_("(",S(r.variableDefinitions,", "),")"),t=S([r.operation,S([r.name,e]),S(r.directives," ")]," ");return(t==="query"?"":t+" ")+r.selectionSet}},VariableDefinition:{leave:({variable:r,type:e,defaultValue:t,directives:n})=>r+": "+e+_(" = ",t)+_(" ",S(n," "))},SelectionSet:{leave:({selections:r})=>H(r)},Field:{leave({alias:r,name:e,arguments:t,directives:n,selectionSet:i}){const s=_("",r,": ")+e;let o=s+_("(",S(t,", "),")");return o.length>bo&&(o=s+_(`(
`,ut(S(t,`
`)),`
)`)),S([o,S(n," "),i]," ")}},Argument:{leave:({name:r,value:e})=>r+": "+e},FragmentSpread:{leave:({name:r,directives:e})=>"..."+r+_(" ",S(e," "))},InlineFragment:{leave:({typeCondition:r,directives:e,selectionSet:t})=>S(["...",_("on ",r),S(e," "),t]," ")},FragmentDefinition:{leave:({name:r,typeCondition:e,variableDefinitions:t,directives:n,selectionSet:i})=>`fragment ${r}${_("(",S(t,", "),")")} on ${e} ${_("",S(n," ")," ")}`+i},IntValue:{leave:({value:r})=>r},FloatValue:{leave:({value:r})=>r},StringValue:{leave:({value:r,block:e})=>e?Ws(r):ho(r)},BooleanValue:{leave:({value:r})=>r?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:r})=>r},ListValue:{leave:({values:r})=>"["+S(r,", ")+"]"},ObjectValue:{leave:({fields:r})=>"{"+S(r,", ")+"}"},ObjectField:{leave:({name:r,value:e})=>r+": "+e},Directive:{leave:({name:r,arguments:e})=>"@"+r+_("(",S(e,", "),")")},NamedType:{leave:({name:r})=>r},ListType:{leave:({type:r})=>"["+r+"]"},NonNullType:{leave:({type:r})=>r+"!"},SchemaDefinition:{leave:({description:r,directives:e,operationTypes:t})=>_("",r,`
`)+S(["schema",S(e," "),H(t)]," ")},OperationTypeDefinition:{leave:({operation:r,type:e})=>r+": "+e},ScalarTypeDefinition:{leave:({description:r,name:e,directives:t})=>_("",r,`
`)+S(["scalar",e,S(t," ")]," ")},ObjectTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>_("",r,`
`)+S(["type",e,_("implements ",S(t," & ")),S(n," "),H(i)]," ")},FieldDefinition:{leave:({description:r,name:e,arguments:t,type:n,directives:i})=>_("",r,`
`)+e+(Kr(t)?_(`(
`,ut(S(t,`
`)),`
)`):_("(",S(t,", "),")"))+": "+n+_(" ",S(i," "))},InputValueDefinition:{leave:({description:r,name:e,type:t,defaultValue:n,directives:i})=>_("",r,`
`)+S([e+": "+t,_("= ",n),S(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>_("",r,`
`)+S(["interface",e,_("implements ",S(t," & ")),S(n," "),H(i)]," ")},UnionTypeDefinition:{leave:({description:r,name:e,directives:t,types:n})=>_("",r,`
`)+S(["union",e,S(t," "),_("= ",S(n," | "))]," ")},EnumTypeDefinition:{leave:({description:r,name:e,directives:t,values:n})=>_("",r,`
`)+S(["enum",e,S(t," "),H(n)]," ")},EnumValueDefinition:{leave:({description:r,name:e,directives:t})=>_("",r,`
`)+S([e,S(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:r,name:e,directives:t,fields:n})=>_("",r,`
`)+S(["input",e,S(t," "),H(n)]," ")},DirectiveDefinition:{leave:({description:r,name:e,arguments:t,repeatable:n,locations:i})=>_("",r,`
`)+"directive @"+e+(Kr(t)?_(`(
`,ut(S(t,`
`)),`
)`):_("(",S(t,", "),")"))+(n?" repeatable":"")+" on "+S(i," | ")},SchemaExtension:{leave:({directives:r,operationTypes:e})=>S(["extend schema",S(r," "),H(e)]," ")},ScalarTypeExtension:{leave:({name:r,directives:e})=>S(["extend scalar",r,S(e," ")]," ")},ObjectTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>S(["extend type",r,_("implements ",S(e," & ")),S(t," "),H(n)]," ")},InterfaceTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>S(["extend interface",r,_("implements ",S(e," & ")),S(t," "),H(n)]," ")},UnionTypeExtension:{leave:({name:r,directives:e,types:t})=>S(["extend union",r,S(e," "),_("= ",S(t," | "))]," ")},EnumTypeExtension:{leave:({name:r,directives:e,values:t})=>S(["extend enum",r,S(e," "),H(t)]," ")},InputObjectTypeExtension:{leave:({name:r,directives:e,fields:t})=>S(["extend input",r,S(e," "),H(t)]," ")}};function S(r,e=""){var t;return(t=r==null?void 0:r.filter(n=>n).join(e))!==null&&t!==void 0?t:""}function H(r){return _(`{
`,ut(S(r,`
`)),`
}`)}function _(r,e,t=""){return e!=null&&e!==""?r+e+t:""}function ut(r){return _("  ",r.replace(/\n/g,`
  `))}function Kr(r){var e;return(e=r==null?void 0:r.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}function A(r){return typeof r=="function"}function Or(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Vt=Or(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function vt(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var Xe=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=gt(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(b){e={error:b}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(A(l))try{l()}catch(b){s=b instanceof Vt?b.errors:[b]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=gt(f),d=h.next();!d.done;d=h.next()){var m=d.value;try{Xr(m)}catch(b){s=s??[],b instanceof Vt?s=we(we([],Oe(s)),Oe(b.errors)):s.push(b)}}}catch(b){n={error:b}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}if(s)throw new Vt(s)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Xr(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&vt(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&vt(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),si=Xe.EMPTY;function oi(r){return r instanceof Xe||r&&"closed"in r&&A(r.remove)&&A(r.add)&&A(r.unsubscribe)}function Xr(r){A(r)?r():r.unsubscribe()}var ko={Promise:void 0},So={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,we([r,e],Oe(t)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function ai(r){So.setTimeout(function(){throw r})}function Zr(){}function lt(r){r()}var Tr=function(r){G(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,oi(t)&&t.add(n)):n.destination=To,n}return e.create=function(t,n,i){return new Ye(t,n,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Xe),wo=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){ot(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){ot(n)}else ot(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){ot(t)}},r}(),Ye=function(r){G(e,r);function e(t,n,i){var s=r.call(this)||this,o;return A(t)||!t?o={next:t??void 0,error:n??void 0,complete:i??void 0}:o=t,s.destination=new wo(o),s}return e}(Tr);function ot(r){ai(r)}function Oo(r){throw r}var To={closed:!0,next:Zr,error:Oo,complete:Zr},xr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Cr(r){return r}function xo(r){return r.length===0?Cr:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var R=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this,s=_o(e)?e:new Ye(e,t,n);return lt(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=en(t),new t(function(i,s){var o=new Ye({next:function(a){try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[xr]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xo(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=en(e),new e(function(n,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},r.create=function(e){return new r(e)},r}();function en(r){var e;return(e=r??ko.Promise)!==null&&e!==void 0?e:Promise}function Co(r){return r&&A(r.next)&&A(r.error)&&A(r.complete)}function _o(r){return r&&r instanceof Tr||Co(r)&&oi(r)}function Io(r){return A(r==null?void 0:r.lift)}function Z(r){return function(e){if(Io(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(r,e,t,n,i){return new No(r,e,t,n,i)}var No=function(r){G(e,r);function e(t,n,i,s,o,a){var c=r.call(this,t)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(l){t.error(l)}}:r.prototype._next,c._error=s?function(u){try{s(u)}catch(l){t.error(l)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:r.prototype._complete,c}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Tr),Ao=Or(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fe=function(r){G(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new tn(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Ao},e.prototype.next=function(t){var n=this;lt(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=gt(n.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(t)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var n=this;lt(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;lt(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?si:(this.currentObservers=null,a.push(t),new Xe(function(){n.currentObservers=null,vt(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new R;return t.source=this,t},e.create=function(t,n){return new tn(t,n)},e}(R),tn=function(r){G(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},e.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:si},e}(Fe),Do=function(r){G(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,s=t._value;if(n)throw i;return this._throwIfClosed(),s},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(Fe),_r={now:function(){return(_r.delegate||Date).now()},delegate:void 0},Fo=function(r){G(e,r);function e(t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=_r);var s=r.call(this)||this;return s._bufferSize=t,s._windowTime=n,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,n),s}return e.prototype.next=function(t){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(s.push(t),!o&&s.push(a.now()+c)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!t.closed;c+=s?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,i=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),u=0,l=1;l<s.length&&s[l]<=c;l+=2)u=l;u&&s.splice(0,u+1)}},e}(Fe),Ro=function(r){G(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return this},e}(Xe),rn={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setInterval.apply(void 0,we([r,e],Oe(t)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},Po=function(r){G(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),rn.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&rn.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,s;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,vt(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Ro),Mo=1,qt,ar={};function nn(r){return r in ar?(delete ar[r],!0):!1}var ci={setImmediate:function(r){var e=Mo++;return ar[e]=!0,qt||(qt=Promise.resolve()),qt.then(function(){return nn(e)&&r()}),e},clearImmediate:function(r){nn(r)}},Lo=ci.setImmediate,jo=ci.clearImmediate,sn={setImmediate:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Lo.apply(void 0,we([],Oe(r)))},clearImmediate:function(r){return jo(r)},delegate:void 0},Vo=function(r){G(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=sn.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,n,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);var o=t.actions;n!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==n&&(sn.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},e}(Po),on=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=_r.now,r}(),qo=function(r){G(e,r);function e(t,n){n===void 0&&(n=on.now);var i=r.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(on),Bo=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,s;t=t||i.shift();do if(s=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw s}},e}(qo),Uo=new Bo(Vo),bt=new R(function(r){return r.complete()});function Wo(r){return r&&A(r.schedule)}function zo(r){return r[r.length-1]}function ui(r){return Wo(zo(r))?r.pop():void 0}var li=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function fi(r){return A(r==null?void 0:r.then)}function hi(r){return A(r[xr])}function di(r){return Symbol.asyncIterator&&A(r==null?void 0:r[Symbol.asyncIterator])}function pi(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Qo(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mi=Qo();function yi(r){return A(r==null?void 0:r[mi])}function gi(r){return Es(this,arguments,function(){var t,n,i,s;return Gn(this,function(o){switch(o.label){case 0:t=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Lt(t.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,Lt(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Lt(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function vi(r){return A(r==null?void 0:r.getReader)}function ae(r){if(r instanceof R)return r;if(r!=null){if(hi(r))return $o(r);if(li(r))return Go(r);if(fi(r))return Ho(r);if(di(r))return bi(r);if(yi(r))return Yo(r);if(vi(r))return Jo(r)}throw pi(r)}function $o(r){return new R(function(e){var t=r[xr]();if(A(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Go(r){return new R(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function Ho(r){return new R(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,ai)})}function Yo(r){return new R(function(e){var t,n;try{for(var i=gt(r),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()})}function bi(r){return new R(function(e){Ko(r,e).catch(function(t){return e.error(t)})})}function Jo(r){return bi(gi(r))}function Ko(r,e){var t,n,i,s;return ks(this,void 0,void 0,function(){var o,a;return Gn(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=Ss(r),c.label=1;case 1:return[4,t.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function de(r,e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(s),!i)return s}function Ir(r,e){return e===void 0&&(e=0),Z(function(t,n){t.subscribe(se(n,function(i){return de(n,r,function(){return n.next(i)},e)},function(){return de(n,r,function(){return n.complete()},e)},function(i){return de(n,r,function(){return n.error(i)},e)}))})}function Ei(r,e){return e===void 0&&(e=0),Z(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function Xo(r,e){return ae(r).pipe(Ei(e),Ir(e))}function Zo(r,e){return ae(r).pipe(Ei(e),Ir(e))}function ea(r,e){return new R(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function ta(r,e){return new R(function(t){var n;return de(t,e,function(){n=r[mi](),de(t,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){t.error(a);return}o?t.complete():t.next(s)},0,!0)}),function(){return A(n==null?void 0:n.return)&&n.return()}})}function ki(r,e){if(!r)throw new Error("Iterable cannot be null");return new R(function(t){de(t,e,function(){var n=r[Symbol.asyncIterator]();de(t,e,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function ra(r,e){return ki(gi(r),e)}function na(r,e){if(r!=null){if(hi(r))return Xo(r,e);if(li(r))return ea(r,e);if(fi(r))return Zo(r,e);if(di(r))return ki(r,e);if(yi(r))return ta(r,e);if(vi(r))return ra(r,e)}throw pi(r)}function le(r,e){return e?na(r,e):ae(r)}function ue(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=ui(r);return le(r,t)}function Si(r,e){var t=A(r)?r:function(){return r},n=function(i){return i.error(t())};return new R(n)}var an;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(an||(an={}));var Bt=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){return ia(this,e)},r.prototype.do=function(e,t,n){var i=this,s=i.kind,o=i.value,a=i.error;return s==="N"?e==null?void 0:e(o):s==="E"?t==null?void 0:t(a):n==null?void 0:n()},r.prototype.accept=function(e,t,n){var i;return A((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,i=e.error,s=t==="N"?ue(n):t==="E"?Si(function(){return i}):t==="C"?bt:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},r.createNext=function(e){return new r("N",e)},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();function ia(r,e){var t,n,i,s=r,o=s.kind,a=s.value,c=s.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,a):o==="E"?(n=e.error)===null||n===void 0||n.call(e,c):(i=e.complete)===null||i===void 0||i.call(e)}var sa=Or(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function oa(r,e){var t=typeof e=="object";return new Promise(function(n,i){var s=!1,o;r.subscribe({next:function(a){o=a,s=!0},error:i,complete:function(){s?n(o):t?n(e.defaultValue):i(new sa)}})})}function he(r,e){return Z(function(t,n){var i=0;t.subscribe(se(n,function(s){n.next(r.call(e,s,i++))}))})}function aa(r,e,t,n,i,s,o,a){var c=[],u=0,l=0,f=!1,h=function(){f&&!c.length&&!u&&e.complete()},d=function(b){return u<n?m(b):c.push(b)},m=function(b){u++;var y=!1;ae(t(b,l++)).subscribe(se(e,function(v){e.next(v)},function(){y=!0},void 0,function(){if(y)try{u--;for(var v=function(){var E=c.shift();o||m(E)};c.length&&u<n;)v();h()}catch(E){e.error(E)}}))};return r.subscribe(se(e,d,function(){f=!0,h()})),function(){}}function ye(r,e,t){return t===void 0&&(t=1/0),A(e)?ye(function(n,i){return he(function(s,o){return e(n,s,i,o)})(ae(r(n,i)))},t):(typeof e=="number"&&(t=e),Z(function(n,i){return aa(n,i,r,t)}))}function ca(r){return ye(Cr,r)}function ua(){return ca(1)}function Ut(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ua()(le(r,ui(r)))}function la(r,e){return Z(function(t,n){var i=0;t.subscribe(se(n,function(s){return r.call(e,s,i++)&&n.next(s)}))})}function ft(r){return Z(function(e,t){var n=null,i=!1,s;n=e.subscribe(se(t,void 0,void 0,function(o){s=ae(r(o,ft(r)(e))),n?(n.unsubscribe(),n=null,s.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(t))})}function fa(r){return Z(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}function ha(){return Z(function(r,e){r.subscribe(se(e,function(t){e.next(Bt.createNext(t))},function(){e.next(Bt.createComplete()),e.complete()},function(t){e.next(Bt.createError(t)),e.complete()}))})}function Et(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new Fe}:e,n=r.resetOnError,i=n===void 0?!0:n,s=r.resetOnComplete,o=s===void 0?!0:s,a=r.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var l,f,h,d=0,m=!1,b=!1,y=function(){f==null||f.unsubscribe(),f=void 0},v=function(){y(),l=h=void 0,m=b=!1},E=function(){var w=l;v(),w==null||w.unsubscribe()};return Z(function(w,O){d++,!b&&!m&&y();var T=h=h??t();O.add(function(){d--,d===0&&!b&&!m&&(f=Wt(E,c))}),T.subscribe(O),!l&&d>0&&(l=new Ye({next:function(U){return T.next(U)},error:function(U){b=!0,y(),f=Wt(v,i,U),T.error(U)},complete:function(){m=!0,y(),f=Wt(v,o),T.complete()}}),ae(w).subscribe(l))})(u)}}function Wt(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var i=new Ye({next:function(){i.unsubscribe(),r()}});return ae(e.apply(void 0,we([],Oe(t)))).subscribe(i)}}function da(r,e,t){var n,i,s,o,a=!1;return r&&typeof r=="object"?(n=r.bufferSize,o=n===void 0?1/0:n,i=r.windowTime,e=i===void 0?1/0:i,s=r.refCount,a=s===void 0?!1:s,t=r.scheduler):o=r??1/0,Et({connector:function(){return new Fo(o,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function kt(r,e,t){var n=A(r)||e||t?{next:r,error:e,complete:t}:r;return n?Z(function(i,s){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;i.subscribe(se(s,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Cr}const pa=!1;function Y(r){try{return r()}catch{}}const cr=Y(()=>globalThis)||Y(()=>window)||Y(()=>self)||Y(()=>global)||Y(function(){return Y.constructor("return this")()}),Nr="4.0.0",cn=new Map;function wi(r){const e=cn.get(r)||1;return cn.set(r,e+1),`${r}:${e}:${Math.random().toString(36).slice(2)}`}function ma(r,e=0){const t=wi("stringifyForDisplay");return JSON.stringify(r,(n,i)=>i===void 0?t:i,e).split(JSON.stringify(t)).join("<undefined>")}const un="Invariant Violation";class Ar extends Error{constructor(e=un){super(e),this.name=un,Object.setPrototypeOf(this,Ar.prototype)}}const Oi=["debug","log","warn","error","silent"];let ya=Oi.indexOf("silent");function C(r,...e){if(!r)throw $(...e)}function _t(r){return function(e,...t){if(Oi.indexOf(r)>=ya){const n=console[r]||console.log;if(typeof e=="number"){const i=e;e=xi(i),e||(e=Ci(i,t),t=[])}n(e,...t)}}}C.debug=_t("debug");C.log=_t("log");C.warn=_t("warn");C.error=_t("error");function $(r,...e){return new Ar(xi(r,e)||Ci(r,e))}const ln=Symbol.for("ApolloErrorMessageHandler_"+Nr);function Ti(r){if(typeof r=="string")return r;try{return ma(r,2).slice(0,1e3)}catch{return"<non-serializable>"}}function xi(r,e=[]){if(r)return cr[ln]&&cr[ln](r,e.map(Ti))}function Ci(r,e=[]){if(r)return`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:Nr,message:r,args:e.map(Ti)}))}`}function Te(r,e,t,n){if(t.kind===k.INT||t.kind===k.FLOAT)r[e.value]=Number(t.value);else if(t.kind===k.BOOLEAN||t.kind===k.STRING)r[e.value]=t.value;else if(t.kind===k.OBJECT){const i={};t.fields.map(s=>Te(i,s.name,s.value,n)),r[e.value]=i}else if(t.kind===k.VARIABLE){const i=(n||{})[t.name.value];r[e.value]=i}else if(t.kind===k.LIST)r[e.value]=t.values.map(i=>{const s={};return Te(s,e,i,n),s[e.value]});else if(t.kind===k.ENUM)r[e.value]=t.value;else if(t.kind===k.NULL)r[e.value]=null;else throw $(19,e.value,t.kind)}function Dr(r,e){if(r.arguments&&r.arguments.length){const t={};return r.arguments.forEach(({name:n,value:i})=>Te(t,n,i,e)),t}return null}const ga=typeof Y(()=>window.document.createElement)=="function";function va(){}class ur{constructor(e=1/0,t=va){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:i}=t;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1}}function lr(){}const ba=lr,Ea=typeof WeakRef<"u"?WeakRef:function(r){return{deref:()=>r}},ka=typeof WeakMap<"u"?WeakMap:Map,Sa=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:lr,unregister:lr}},wa=10024;class Je{constructor(e=1/0,t=ba){this.max=e,this.dispose=t,this.map=new ka,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const n=this.unfinalizedNodes.values();for(let i=0;i<wa;i++){const s=n.next().value;if(!s)break;this.unfinalizedNodes.delete(s);const o=s.key;delete s.key,s.keyRef=new Ea(o),this.registry.register(o,s,s)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new Sa(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:i}=t;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return t?(this.deleteNode(t),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}const Oa=()=>Object.create(null),{forEach:Ta,slice:fn}=Array.prototype,{hasOwnProperty:xa}=Object.prototype;class ce{constructor(e=!0,t=Oa){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return Ta.call(e,n=>t=t.getChildTrie(n)),xa.call(t,"data")?t.data:t.data=this.makeData(fn.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,i=e.length;t&&n<i;++n){const s=t.mapFor(e[n],!1);t=s&&s.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],i=this.mapFor(n,!1),s=i&&i.get(n);s&&(t=s.removeArray(fn.call(e,1)),!s.data&&!s.weak&&!(s.strong&&s.strong.size)&&i.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new ce(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&Ca(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}function Ca(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}let B=null;const hn={};let _a=1;const Ia=()=>class{constructor(){this.id=["slot",_a++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=B;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===hn)break;return e!==B&&(B.slots[this.id]=t),!0}return B&&(B.slots[this.id]=hn),!1}getValue(){if(this.hasValue())return B.slots[this.id]}withValue(e,t,n,i){const s={__proto__:null,[this.id]:e},o=B;B={parent:o,slots:s};try{return t.apply(i,n)}finally{B=o}}static bind(e){const t=B;return function(){const n=B;try{return B=t,e.apply(this,arguments)}finally{B=n}}}static noContext(e,t,n){if(B){const i=B;try{return B=null,e.apply(n,t)}finally{B=i}}else return e.apply(n,t)}};function dn(r){try{return r()}catch{}}const zt="@wry/context:Slot",Na=dn(()=>globalThis)||dn(()=>global)||Object.create(null),pn=Na,It=pn[zt]||Array[zt]||function(r){try{Object.defineProperty(pn,zt,{value:r,enumerable:!1,writable:!1,configurable:!0})}finally{return r}}(Ia()),{bind:zu,noContext:Qu}=It,Nt=new It,{hasOwnProperty:Aa}=Object.prototype,Fr=Array.from||function(r){const e=[];return r.forEach(t=>e.push(t)),e};function Rr(r){const{unsubscribe:e}=r;typeof e=="function"&&(r.unsubscribe=void 0,e())}const Ke=[],Da=100;function xe(r,e){if(!r)throw new Error(e||"assertion failure")}function _i(r,e){const t=r.length;return t>0&&t===e.length&&r[t-1]===e[t-1]}function Ii(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function Ni(r){return r.slice(0)}class At{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++At.count}peek(){if(this.value.length===1&&!oe(this))return mn(this),this.value[0]}recompute(e){return xe(!this.recomputing,"already recomputing"),mn(this),oe(this)?Fa(this,e):Ii(this.value)}setDirty(){this.dirty||(this.dirty=!0,Ai(this),Rr(this))}dispose(){this.setDirty(),Mi(this),Pr(this,(e,t)=>{e.setDirty(),Li(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Ke.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Fr(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Ke.push(this.deps),this.deps=null)}}At.count=0;function mn(r){const e=Nt.getValue();if(e)return r.parents.add(e),e.childValues.has(r)||e.childValues.set(r,[]),oe(r)?Fi(e,r):Ri(e,r),e}function Fa(r,e){return Mi(r),Nt.withValue(r,Ra,[r,e]),Ma(r,e)&&Pa(r),Ii(r.value)}function Ra(r,e){r.recomputing=!0;const{normalizeResult:t}=r;let n;t&&r.value.length===1&&(n=Ni(r.value)),r.value.length=0;try{if(r.value[0]=r.fn.apply(null,e),t&&n&&!_i(n,r.value))try{r.value[0]=t(r.value[0],n[0])}catch{}}catch(i){r.value[1]=i}r.recomputing=!1}function oe(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function Pa(r){r.dirty=!1,!oe(r)&&Di(r)}function Ai(r){Pr(r,Fi)}function Di(r){Pr(r,Ri)}function Pr(r,e){const t=r.parents.size;if(t){const n=Fr(r.parents);for(let i=0;i<t;++i)e(n[i],r)}}function Fi(r,e){xe(r.childValues.has(e)),xe(oe(e));const t=!oe(r);if(!r.dirtyChildren)r.dirtyChildren=Ke.pop()||new Set;else if(r.dirtyChildren.has(e))return;r.dirtyChildren.add(e),t&&Ai(r)}function Ri(r,e){xe(r.childValues.has(e)),xe(!oe(e));const t=r.childValues.get(e);t.length===0?r.childValues.set(e,Ni(e.value)):_i(t,e.value)||r.setDirty(),Pi(r,e),!oe(r)&&Di(r)}function Pi(r,e){const t=r.dirtyChildren;t&&(t.delete(e),t.size===0&&(Ke.length<Da&&Ke.push(t),r.dirtyChildren=null))}function Mi(r){r.childValues.size>0&&r.childValues.forEach((e,t)=>{Li(r,t)}),r.forgetDeps(),xe(r.dirtyChildren===null)}function Li(r,e){e.parents.delete(r),r.childValues.delete(e),Pi(r,e)}function Ma(r,e){if(typeof r.subscribe=="function")try{Rr(r),r.unsubscribe=r.subscribe.apply(null,e)}catch{return r.setDirty(),!1}return!0}const La={setDirty:!0,dispose:!0,forget:!0};function ji(r){const e=new Map;function t(n){const i=Nt.getValue();if(i){let s=e.get(n);s||e.set(n,s=new Set),i.dependOn(s)}}return t.dirty=function(i,s){const o=e.get(i);if(o){const a=s&&Aa.call(La,s)?s:"setDirty";Fr(o).forEach(c=>c[a]()),e.delete(i),Rr(o)}},t}let yn;function ja(...r){return(yn||(yn=new ce(typeof WeakMap=="function"))).lookupArray(r)}const Qt=new Set;function Ce(r,{max:e=Math.pow(2,16),keyArgs:t,makeCacheKey:n=ja,normalizeResult:i,subscribe:s,cache:o=ur}=Object.create(null)){const a=typeof o=="function"?new o(e,h=>h.dispose()):o,c=function(){const h=n.apply(null,t?t.apply(null,arguments):arguments);if(h===void 0)return r.apply(null,arguments);let d=a.get(h);d||(a.set(h,d=new At(r)),d.normalizeResult=i,d.subscribe=s,d.forget=()=>a.delete(h));const m=d.recompute(Array.prototype.slice.call(arguments));return a.set(h,d),Qt.add(a),Nt.hasValue()||(Qt.forEach(b=>b.clean()),Qt.clear()),m};Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:e,keyArgs:t,makeCacheKey:n,normalizeResult:i,subscribe:s,cache:a});function u(h){const d=h&&a.get(h);d&&d.setDirty()}c.dirtyKey=u,c.dirty=function(){u(n.apply(null,arguments))};function l(h){const d=h&&a.get(h);if(d)return d.peek()}c.peekKey=l,c.peek=function(){return l(n.apply(null,arguments))};function f(h){return h?a.delete(h):!1}return c.forgetKey=f,c.forget=function(){return f(n.apply(null,arguments))},c.makeCacheKey=n,c.getKey=t?function(){return n.apply(null,t.apply(null,arguments))}:n,Object.freeze(c)}const Va=Symbol.for("apollo.cacheSize"),te={...cr[Va]};function _e(r,e){var t;return((t=r.definitions.find(n=>n.kind==="OperationDefinition"&&!!n.name))==null?void 0:t.name.value)??e}const ne=Ce((r,e)=>{C(r&&r.kind==="Document",1);const t=r.definitions.filter(n=>n.kind==="OperationDefinition");e&&C(t.length==1&&t[0].operation===e,4,e,e,t[0].operation),X(r,{Field(n,i,s,o){var a;if(n.alias&&(n.alias.value==="__typename"||n.alias.value.startsWith("__ac_"))&&n.alias.value!==n.name.value){let c=r,u=[];for(const l of o)c=c[l],c.kind===k.FIELD&&u.push(((a=c.alias)==null?void 0:a.value)||c.name.value);throw u.splice(-1,1,n.name.value),$(5,n.alias.value,u.join("."),t[0].operation,_e(r,"(anonymous)"))}}})},{max:te.checkDocument||2e3,cache:Je});function Q(...r){const e={};return r.forEach(t=>{t&&Object.keys(t).forEach(n=>{const i=t[n];i!==void 0&&(e[n]=i)})}),e}function Ze(r=[]){const e={};return r.forEach(t=>{e[t.name.value]=t}),e}function W(r){return r!==null&&typeof r=="object"}const{hasOwnProperty:qa}=Object.prototype,Ba=function(r,e,t){return this.merge(r[t],e[t])};class Ie{constructor(e=Ba){p(this,"reconciler");p(this,"isObject",W);p(this,"pastCopies",new Set);this.reconciler=e}merge(e,t,...n){return W(t)&&W(e)?(Object.keys(t).forEach(i=>{if(qa.call(e,i)){const s=e[i];if(t[i]!==s){const o=this.reconciler(e,t,i,...n);o!==s&&(e=this.shallowCopyForMerge(e),e[i]=o)}}else e=this.shallowCopyForMerge(e),e[i]=t[i]}),e):t}shallowCopyForMerge(e){return W(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e={__proto__:Object.getPrototypeOf(e),...e},this.pastCopies.add(e))),e}}function Mr(r){const e={},t=r&&r.variableDefinitions;return t&&t.length&&t.forEach(n=>{n.defaultValue&&Te(e,n.variable.name,n.defaultValue)}),e}function Dt(r,e){switch(r.kind){case"InlineFragment":return r;case"FragmentSpread":{const t=r.name.value;if(typeof e=="function")return e(t);const n=e&&e[t];return C(n,9,t),n||null}default:return null}}function Ua(r,e){let t=e;const n=[];return r.definitions.forEach(s=>{if(s.kind==="OperationDefinition")throw $(10,s.operation,s.name?` named '${s.name.value}'`:"");s.kind==="FragmentDefinition"&&n.push(s)}),typeof t>"u"&&(C(n.length===1,11,n.length),t=n[0].name.value),{...r,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}},...r.definitions]}}function Wa(r){C(r.kind==="Document",6),C(r.definitions.length<=1,7);const e=r.definitions[0];return C(e.kind==="FragmentDefinition",8),e}function et(r){return r.definitions.filter(e=>e.kind==="FragmentDefinition")}function Vi(r){ne(r);let e;for(let t of r.definitions){if(t.kind==="OperationDefinition")return t;t.kind==="FragmentDefinition"&&!e&&(e=t)}if(e)return e;throw $(12)}function re(r){return ne(r),r.definitions.filter(e=>e.kind==="OperationDefinition")[0]}function za(r){const e=re(r);return C(e&&e.operation==="query",13),e}const $t=new WeakSet;function qi(r){r.size<=(r.max||-1)||$t.has(r)||($t.add(r),setTimeout(()=>{r.clean(),$t.delete(r)},100))}const Bi=function(r,e){const t=new Je(r,e);return t.set=function(n,i){const s=Je.prototype.set.call(this,n,i);return qi(this),s},t},Qa=function(r,e){const t=new ur(r,e);return t.set=function(n,i){const s=ur.prototype.set.call(this,n,i);return qi(this),s},t},ie=Object.assign(function(e){return JSON.stringify(e,$a)},{reset(){qe=new Qa(te.canonicalStringify||1e3)}});let qe;ie.reset();function $a(r,e){if(e&&typeof e=="object"){const t=Object.getPrototypeOf(e);if(t===Object.prototype||t===null){const n=Object.keys(e);if(n.every(Ga))return e;const i=JSON.stringify(n);let s=qe.get(i);if(!s){n.sort();const a=JSON.stringify(n);s=qe.get(a)||n,qe.set(i,s),qe.set(a,s)}const o=Object.create(t);return s.forEach(a=>{o[a]=e[a]}),o}}return e}function Ga(r,e,t){return e===0||t[e-1]<=r}const Ha=["connection","include","skip","client","rest","export","nonreactive"];let Me=ie;const Ui=Object.assign(function(r,e,t){if(e&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){const i=t.connection.filter?t.connection.filter:[];i.sort();const s={};i.forEach(a=>{s[a]=e[a]});const o=Me(s);if(o!=="{}")return`${t.connection.key}(${o})`}return t.connection.key}let n=r;if(e){const i=Me(e);i!=="{}"&&(n+=`(${i})`)}return t&&Object.keys(t).forEach(i=>{Ha.indexOf(i)===-1&&(t[i]&&Object.keys(t[i]).length?n+=`@${i}(${Me(t[i])})`:n+=`@${i}`)}),n},{setStringify(r){const e=Me;return Me=r,e}});function ge(r){var e;return!!((e=r.errors)!=null&&e.length)}function Be(r,e,t){const n=new Set(r),i=n.size;return X(e,{Directive(s){if(n.delete(s.name.value)&&(!t||!n.size))return wr}}),t?!n.size:n.size<i}function Ya(r){let e=!1;return X(r,{Directive:{enter(t){if(t.name.value==="client"&&t.arguments&&(e=t.arguments.some(n=>n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0),e))return wr}}}),e}const F=Array.isArray;function Ja(r){return W(r)&&r.kind==="Document"&&Array.isArray(r.definitions)}function tt(r){return r.kind==="Field"}function Lr(r){return Array.isArray(r)&&r.length>0}function Ee(r){return{__ref:String(r)}}function Ka(r){let e=r[0]||{};const t=r.length;if(t>1){const n=new Ie;for(let i=1;i<t;++i)e=n.merge(e,r[i])}return e}function ht(r,e){return Q(r,e,e.variables&&{variables:Q({...r&&r.variables,...e.variables})})}function Xa(r){return r.catch(()=>{}),r}function Za(r,e){ne(e);const t=gn(""),n=gn(""),i=y=>{for(let v=0,E;v<y.length&&(E=y[v]);++v)if(!F(E)){if(E.kind===k.OPERATION_DEFINITION)return t(E.name&&E.name.value);if(E.kind===k.FRAGMENT_DEFINITION)return n(E.name.value)}return C.error(14),null};let s=0;for(let y=e.definitions.length-1;y>=0;--y)e.definitions[y].kind===k.OPERATION_DEFINITION&&++s;const o=ec(r),a=y=>Lr(y)&&y.map(o).some(v=>v&&v.remove),c=new Map;let u=!1;const l={enter(y){if(a(y.directives))return u=!0,null}},f=X(e,{Field:l,InlineFragment:l,VariableDefinition:{enter(){return!1}},Variable:{enter(y,v,E,w,O){const T=i(O);T&&T.variables.add(y.name.value)}},FragmentSpread:{enter(y,v,E,w,O){if(a(y.directives))return u=!0,null;const T=i(O);T&&T.fragmentSpreads.add(y.name.value)}},FragmentDefinition:{enter(y,v,E,w){c.set(JSON.stringify(w),y)},leave(y,v,E,w){const O=c.get(JSON.stringify(w));if(y===O)return y;if(s>0&&y.selectionSet.selections.every(T=>T.kind===k.FIELD&&T.name.value==="__typename"))return n(y.name.value).removed=!0,u=!0,null}},Directive:{leave(y){if(o(y))return u=!0,null}}});if(!u)return e;const h=y=>(y.transitiveVars||(y.transitiveVars=new Set(y.variables),y.removed||y.fragmentSpreads.forEach(v=>{h(n(v)).transitiveVars.forEach(E=>{y.transitiveVars.add(E)})})),y),d=new Set;f.definitions.forEach(y=>{y.kind===k.OPERATION_DEFINITION?h(t(y.name&&y.name.value)).fragmentSpreads.forEach(v=>{d.add(v)}):y.kind===k.FRAGMENT_DEFINITION&&s===0&&!n(y.name.value).removed&&d.add(y.name.value)}),d.forEach(y=>{h(n(y)).fragmentSpreads.forEach(v=>{d.add(v)})});const m=y=>!!(!d.has(y)||n(y).removed),b={enter(y){if(m(y.name.value))return null}};return tc(X(f,{FragmentSpread:b,FragmentDefinition:b,OperationDefinition:{leave(y){if(y.variableDefinitions){const v=h(t(y.name&&y.name.value)).transitiveVars;if(v.size<y.variableDefinitions.length)return{...y,variableDefinitions:y.variableDefinitions.filter(E=>v.has(E.variable.name.value))}}}}}))}function gn(r){const e=new Map;return function(n=r){let i=e.get(n);return i||e.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function ec(r){const e=new Map,t=new Map;return r.forEach(n=>{n&&(n.name?e.set(n.name,n):n.test&&t.set(n.test,n))}),n=>{let i=e.get(n.name.value);return!i&&t.size&&t.forEach((s,o)=>{o(n)&&(i=s)}),i}}function Wi(r,e){return!r||r.selectionSet.selections.every(t=>t.kind===k.FRAGMENT_SPREAD&&Wi(e[t.name.value],e))}function tc(r){return Wi(re(r)||Wa(r),Ze(et(r)))?null:r}function rc(r){return X(r,{FragmentSpread(e){var t;if(!((t=e.directives)!=null&&t.some(({name:n})=>n.value==="unmask")))return null}})}function Re(r){return r.alias?r.alias.value:r.name.value}function Ft({directives:r},e){return!r||!r.length?!0:ic(r).every(({directive:t,ifArgument:n})=>{let i=!1;return n.value.kind==="Variable"?(i=e&&e[n.value.name.value],C(i!==void 0,15,t.name.value)):i=n.value.value,t.name.value==="skip"?!i:i})}function nc({name:{value:r}}){return r==="skip"||r==="include"}function ic(r){const e=[];return r&&r.length&&r.forEach(t=>{if(!nc(t))return;const n=t.arguments,i=t.name.value;C(n&&n.length===1,16,i);const s=n[0];C(s.name&&s.name.value==="if",17,i);const o=s.value;C(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),18,i),e.push({directive:t,ifArgument:s})}),e}function sc(r,e){let t=null;r.directives&&(t={},r.directives.forEach(i=>{t[i.name.value]={},i.arguments&&i.arguments.forEach(({name:s,value:o})=>Te(t[i.name.value],s,o,e))}));let n=null;return r.arguments&&r.arguments.length&&(n={},r.arguments.forEach(({name:i,value:s})=>Te(n,i,s,e))),Ui(r.name.value,n,t)}function dt(r){const e={data:r.data};return r.error&&(e.error=r.error),e}function fr(r,e=()=>{}){return t=>new R(n=>{let i=e();return t.subscribe({next(s){let o;try{o=r(s,i)}catch(a){n.error(a)}o!==void 0&&n.next(o)},error(s){n.error(s)},complete(){n.complete()}})})}const{toString:vn,hasOwnProperty:oc}=Object.prototype,bn=Function.prototype.toString,hr=new Map;function I(r,e){try{return dr(r,e)}finally{hr.clear()}}function dr(r,e){if(r===e)return!0;const t=vn.call(r),n=vn.call(e);if(t!==n)return!1;switch(t){case"[object Array]":if(r.length!==e.length)return!1;case"[object Object]":{if(kn(r,e))return!0;const i=En(r),s=En(e),o=i.length;if(o!==s.length)return!1;for(let a=0;a<o;++a)if(!oc.call(e,i[a]))return!1;for(let a=0;a<o;++a){const c=i[a];if(!dr(r[c],e[c]))return!1}return!0}case"[object Error]":return r.name===e.name&&r.message===e.message;case"[object Number]":if(r!==r)return e!==e;case"[object Boolean]":case"[object Date]":return+r==+e;case"[object RegExp]":case"[object String]":return r==`${e}`;case"[object Map]":case"[object Set]":{if(r.size!==e.size)return!1;if(kn(r,e))return!0;const i=r.entries(),s=t==="[object Map]";for(;;){const o=i.next();if(o.done)break;const[a,c]=o.value;if(!e.has(a)||s&&!dr(c,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":r=new Uint8Array(r),e=new Uint8Array(e);case"[object DataView]":{let i=r.byteLength;if(i===e.byteLength)for(;i--&&r[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=bn.call(r);return i!==bn.call(e)?!1:!uc(i,cc)}}return!1}function En(r){return Object.keys(r).filter(ac,r)}function ac(r){return this[r]!==void 0}const cc="{ [native code] }";function uc(r,e){const t=r.length-e.length;return t>=0&&r.indexOf(e,t)===t}function kn(r,e){let t=hr.get(r);if(t){if(t.has(e))return!0}else hr.set(r,t=new Set);return t.add(e),!1}function zi(r,{data:e,...t},{data:n,...i},s){return I(t,i)&&pt(Vi(r).selectionSet,e,n,{fragmentMap:Ze(et(r)),variables:s})}function pt(r,e,t,n){if(e===t)return!0;const i=new Set;return r.selections.every(s=>{if(i.has(s)||(i.add(s),!Ft(s,n.variables))||Sn(s))return!0;if(tt(s)){const o=Re(s),a=e&&e[o],c=t&&t[o],u=s.selectionSet;if(!u)return I(a,c);const l=Array.isArray(a),f=Array.isArray(c);if(l!==f)return!1;if(l&&f){const h=a.length;if(c.length!==h)return!1;for(let d=0;d<h;++d)if(!pt(u,a[d],c[d],n))return!1;return!0}return pt(u,a,c,n)}else{const o=Dt(s,n.fragmentMap);if(o)return Sn(o)?!0:pt(o.selectionSet,e,t,n)}})}function Sn(r){return!!r.directives&&r.directives.some(lc)}function lc(r){return r.name.value==="nonreactive"}class fc{constructor(){p(this,"startRequest")}isIncrementalResult(e){return!1}prepareRequest(e){return C(!Be(["defer"],e.query),64),e}extractErrors(){}}function hc(r,{client:e}){const t={query:r.query,variables:r.variables||{},extensions:r.extensions||{},operationName:_e(r.query),operationType:re(r.query).operation};let n={...r.context};const i=o=>{typeof o=="function"?n={...n,...o(s())}:n={...n,...o}},s=()=>Object.freeze({...n});return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:s}),Object.defineProperty(t,"client",{enumerable:!1,value:e}),t}function dc(r,e){const t={...r},n=new Set(Object.keys(r));return X(e,{Variable(i,s,o){o&&o.kind!=="VariableDefinition"&&n.delete(i.name.value)}}),n.forEach(i=>{delete t[i]}),t}class z{constructor(e){p(this,"left");p(this,"right");p(this,"getMemoryInternals");e&&(this.request=e)}static empty(){return new z(()=>bt)}static from(e){if(e.length===0)return z.empty();const[t,...n]=e;return t.concat(...n)}static split(e,t,n=new z((i,s)=>s(i))){const i=new z((s,o)=>e(s)?t.request(s,o):n.request(s,o));return Object.assign(i,{left:t,right:n})}static execute(e,t,n){return e.request(hc(t,n),()=>bt)}static concat(...e){return z.from(e)}split(e,t,n){return this.concat(z.split(e,t,n))}concat(...e){return e.length===0?this:e.reduce(this.combine.bind(this),this)}combine(e,t){const n=new z((i,s)=>e.request(i,o=>t.request(o,s)));return Object.assign(n,{left:e,right:t})}request(e,t){throw $(63)}}const pr=z.execute;function pc(r){return r}class ee{constructor(e,t={}){p(this,"transform");p(this,"cached");p(this,"resultCache",new WeakSet);p(this,"left");p(this,"right");this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=t.cache!==!1,this.resetCache()}getCacheKey(e){return[e]}static identity(){return new ee(pc,{cache:!1})}static split(e,t,n=ee.identity()){return Object.assign(new ee(i=>(e(i)?t:n).transformDocument(i),{cache:!1}),{left:t,right:n})}resetCache(){if(this.cached){const e=new ce;this.performWork=Ce(ee.prototype.performWork.bind(this),{makeCacheKey:t=>{const n=this.getCacheKey(t);if(n)return C(Array.isArray(n),20),e.lookupArray(n)},max:te["documentTransform.cache"],cache:Je})}}performWork(e){return ne(e),this.transform(e)}transformDocument(e){if(this.resultCache.has(e))return e;const t=this.performWork(e);return this.resultCache.add(t),t}concat(e){return Object.assign(new ee(t=>e.transformDocument(this.transformDocument(t)),{cache:!1}),{left:this,right:e})}}let Gt;const ke=Object.assign(r=>{let e=Gt.get(r);return e||(e=vo(r),Gt.set(r,e)),e},{reset(){Gt=new Bi(te.print||2e3)}});ke.reset();function N(r){return!!(r&&typeof r=="object"&&typeof r.__ref=="string")}const wn={kind:k.FIELD,name:{kind:k.NAME,value:"__typename"}},Qi=Object.assign(function(r){return X(r,{SelectionSet:{enter(e,t,n){if(n&&n.kind===k.OPERATION_DEFINITION)return;const{selections:i}=e;if(!i||i.some(a=>a.kind===k.FIELD&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)))return;const o=n;if(!(o.kind===k.FIELD&&o.directives&&o.directives.some(a=>a.name.value==="export")))return{...e,selections:[...i,wn]}}}})},{added(r){return r===wn}});function $i(r,e){var t;return((t=re(r))==null?void 0:t.operation)===e}function mc(r){return $i(r,"mutation")}function yc(r){return $i(r,"subscription")}class gc{constructor(){p(this,"assumeImmutableResults",!1);p(this,"getFragmentDoc",Ce(Ua,{max:te["cache.fragmentQueryDocuments"]||1e3,cache:Je}));p(this,"getMemoryInternals")}lookupFragment(e){return null}batch(e){const t=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0;let n;return this.performTransaction(()=>n=e.update(this),t),n}recordOptimisticTransaction(e,t){this.performTransaction(e,t)}transformDocument(e){return e}transformForLink(e){return e}identify(e){}gc(){return[]}modify(e){return!1}readQuery(e,t=!!e.optimistic){return this.read({...e,rootId:e.id||"ROOT_QUERY",optimistic:t})}watchFragment(e){const{fragment:t,fragmentName:n,from:i,optimistic:s=!0,...o}=e,a=this.getFragmentDoc(t,n),c=typeof i>"u"||typeof i=="string"?i:this.identify(i),u={...o,returnPartialData:!0,id:c,query:a,optimistic:s};let l;return new R(f=>this.watch({...u,immediate:!0,callback:h=>{let d=h.result;if(d===null&&(d={}),l&&zi(a,{data:l.result},{data:d},e.variables))return;const m={data:d,dataState:h.complete?"complete":"partial",complete:!!h.complete};h.missing&&(m.missing=h.missing.missing),l={...h,result:d},f.next(m)}}))}readFragment(e,t=!!e.optimistic){return this.read({...e,query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t})}writeQuery({id:e,data:t,...n}){return this.write(Object.assign(n,{dataId:e||"ROOT_QUERY",result:t}))}writeFragment({id:e,data:t,fragment:n,fragmentName:i,...s}){return this.write(Object.assign(s,{query:this.getFragmentDoc(n,i),dataId:e,result:t}))}updateQuery(e,t){return this.batch({update(n){const i=n.readQuery(e),s=t(i);return s==null?i:(n.writeQuery({...e,data:s}),s)}})}updateFragment(e,t){return this.batch({update(n){const i=n.readFragment(e),s=t(i);return s==null?i:(n.writeFragment({...e,data:s}),s)}})}}class jr extends Error{constructor(t,n,i,s){super(t);p(this,"message");p(this,"path");p(this,"query");p(this,"variables");p(this,"missing");if(this.message=t,this.path=n,this.query=i,this.variables=s,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let o=this.path.length-1;o>=0;--o)this.missing={[this.path[o]]:this.missing}}else this.missing=this.path;this.__proto__=jr.prototype}}const{hasOwnProperty:L}=Object.prototype;function Gi({__typename:r,id:e,_id:t},n){if(typeof r=="string"&&(n&&(n.keyObject=e!=null?{id:e}:t!=null?{_id:t}:void 0),e==null&&t!=null&&(e=t),e!=null))return`${r}:${typeof e=="number"||typeof e=="string"?e:JSON.stringify(e)}`}const vc={dataIdFromObject:Gi,resultCaching:!0};function bc(r){return Q(vc,r)}const Hi=/^[_a-z][_0-9a-z]*/i;function Ne(r){const e=r.match(Hi);return e?e[0]:r}function mr(r,e,t){return W(e)?F(e)?e.every(n=>mr(r,n,t)):r.selections.every(n=>{if(tt(n)&&Ft(n,t)){const i=Re(n);return L.call(e,i)&&(!n.selectionSet||mr(n.selectionSet,e[i],t))}return!0}):!1}function ve(r){return W(r)&&!N(r)&&!F(r)}function Ec(){return new Ie}function Yi(r,e){const t=Ze(et(r));return{fragmentMap:t,lookupFragment(n){let i=t[n];return!i&&e&&(i=e.lookup(n)),i||null}}}const mt={},Ht=()=>mt,On={};class Rt{constructor(e,t){p(this,"policies");p(this,"group");p(this,"data",{});p(this,"rootIds",{});p(this,"refs",{});p(this,"getFieldValue",(e,t)=>N(e)?this.get(e.__ref,t):e&&e[t]);p(this,"canRead",e=>N(e)?this.has(e.__ref):typeof e=="object");p(this,"toReference",(e,t)=>{if(typeof e=="string")return Ee(e);if(N(e))return e;const[n]=this.policies.identify(e);if(n){const i=Ee(n);return t&&this.merge(n,e),i}});this.policies=e,this.group=t}toObject(){return{...this.data}}has(e){return this.lookup(e,!0)!==void 0}get(e,t){if(this.group.depend(e,t),L.call(this.data,e)){const n=this.data[e];if(n&&L.call(n,t))return n[t]}if(t==="__typename"&&L.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof K)return this.parent.get(e,t)}lookup(e,t){if(t&&this.group.depend(e,"__exists"),L.call(this.data,e))return this.data[e];if(this instanceof K)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return{}}merge(e,t){let n;N(e)&&(e=e.__ref),N(t)&&(t=t.__ref);const i=typeof e=="string"?this.lookup(n=e):e,s=typeof t=="string"?this.lookup(n=t):t;if(!s)return;C(typeof n=="string",95);const o=new Ie(wc).merge(i,s);if(this.data[n]=o,o!==i&&(delete this.refs[n],this.group.caching)){const a={};i||(a.__exists=1),Object.keys(s).forEach(c=>{if(!i||i[c]!==o[c]){a[c]=1;const u=Ne(c);u!==c&&!this.policies.hasKeyArgs(o.__typename,u)&&(a[u]=1),o[c]===void 0&&!(this instanceof K)&&delete o[c]}}),a.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[n]===o.__typename&&delete a.__typename,Object.keys(a).forEach(c=>this.group.dirty(n,c))}}modify(e,t,n){const i=this.lookup(e);if(i){const s={};let o=!1,a=!0;const c={DELETE:mt,INVALIDATE:On,isReference:N,toReference:this.toReference,canRead:this.canRead,readField:(u,l)=>this.policies.readField(typeof u=="string"?{fieldName:u,from:l||Ee(e)}:u,{store:this})};if(Object.keys(i).forEach(u=>{const l=Ne(u);let f=i[u];if(f===void 0)return;const h=typeof t=="function"?t:t[u]||(n?void 0:t[l]);if(h){let d=h===Ht?mt:h(f,{...c,fieldName:l,storeFieldName:u,storage:this.getStorage(e,u)});d===On?this.group.dirty(e,u):(d===mt&&(d=void 0),d!==f&&(s[u]=d,o=!0,f=d))}f!==void 0&&(a=!1)}),o)return this.merge(e,s),a&&(this instanceof K?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1}delete(e,t,n){const i=this.lookup(e);if(i){const s=this.getFieldValue(i,"__typename"),o=t&&n?this.policies.getStoreFieldName({typename:s,fieldName:t,args:n}):t;return this.modify(e,o?{[o]:Ht}:Ht,!!n)}return!1}evict(e,t){let n=!1;return e.id&&(L.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof K&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n}clear(){this.replace(null)}extract(){const e=this.toObject(),t=[];return this.getRootIdSet().forEach(n=>{L.call(this.policies.rootTypenamesById,n)||t.push(n)}),t.length&&(e.__META={extraRootIds:t.sort()}),e}replace(e){if(Object.keys(this.data).forEach(t=>{e&&L.call(e,t)||this.delete(t)}),e){const{__META:t,...n}=e;Object.keys(n).forEach(i=>{this.merge(i,n[i])}),t&&t.extraRootIds.forEach(this.retain,this)}}retain(e){return this.rootIds[e]=(this.rootIds[e]||0)+1}release(e){if(this.rootIds[e]>0){const t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0}getRootIdSet(e=new Set){return Object.keys(this.rootIds).forEach(e.add,e),this instanceof K?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e}gc(){const e=this.getRootIdSet(),t=this.toObject();e.forEach(i=>{L.call(t,i)&&(Object.keys(this.findChildRefIds(i)).forEach(e.add,e),delete t[i])});const n=Object.keys(t);if(n.length){let i=this;for(;i instanceof K;)i=i.parent;n.forEach(s=>i.delete(s))}return n}findChildRefIds(e){if(!L.call(this.refs,e)){const t=this.refs[e]={},n=this.data[e];if(!n)return t;const i=new Set([n]);i.forEach(s=>{N(s)&&(t[s.__ref]=!0),W(s)&&Object.keys(s).forEach(o=>{const a=s[o];W(a)&&i.add(a)})})}return this.refs[e]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}get supportsResultCaching(){return this.group.caching}}class Ji{constructor(e,t=null){p(this,"caching");p(this,"parent");p(this,"d",null);p(this,"keyMaker");this.caching=e,this.parent=t,this.resetCaching()}resetCaching(){this.d=this.caching?ji():null,this.keyMaker=new ce}depend(e,t){if(this.d){this.d(Yt(e,t));const n=Ne(t);n!==t&&this.d(Yt(e,n)),this.parent&&this.parent.depend(e,t)}}dirty(e,t){this.d&&this.d.dirty(Yt(e,t),t==="__exists"?"forget":"setDirty")}}function Yt(r,e){return e+"#"+r}function Tn(r,e){ze(r)&&r.group.depend(e,"__exists")}class kc extends Rt{constructor({policies:t,resultCaching:n=!0,seed:i}){super(t,new Ji(n));p(this,"stump",new Sc(this));p(this,"storageTrie",new ce);i&&this.replace(i)}addLayer(t,n){return this.stump.addLayer(t,n)}removeLayer(){return this}getStorage(){return this.storageTrie.lookupArray(arguments)}}Rt.Root=kc;class K extends Rt{constructor(t,n,i,s){super(n.policies,s);p(this,"id");p(this,"parent");p(this,"replay");p(this,"group");this.id=t,this.parent=n,this.replay=i,this.group=s,i(this)}addLayer(t,n){return new K(t,this,n,this.group)}removeLayer(t){const n=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(i=>{const s=this.data[i],o=n.lookup(i);o?s?s!==o&&Object.keys(s).forEach(a=>{I(s[a],o[a])||this.group.dirty(i,a)}):(this.group.dirty(i,"__exists"),Object.keys(o).forEach(a=>{this.group.dirty(i,a)})):this.delete(i)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(t){const n=this.parent.findChildRefIds(t);return L.call(this.data,t)?{...n,...super.findChildRefIds(t)}:n}getStorage(...t){let n=this.parent;for(;n.parent;)n=n.parent;return n.getStorage(...t)}}class Sc extends K{constructor(e){super("EntityStore.Stump",e,()=>{},new Ji(e.group.caching,e.group))}removeLayer(){return this}merge(e,t){return this.parent.merge(e,t)}}function wc(r,e,t){const n=r[t],i=e[t];return I(n,i)?n:i}function ze(r){return!!(r&&r.supportsResultCaching)}const Ki=new It;function Oc(r){var n,i;const e=(n=r.directives)==null?void 0:n.find(({name:s})=>s.value==="unmask");if(!e)return"mask";const t=(i=e.arguments)==null?void 0:i.find(({name:s})=>s.value==="mode");return t&&"value"in t.value&&t.value.value==="migrate"?"migrate":"unmask"}function Xi(r,e,t){return Ki.withValue(!0,()=>Ue(r,e,t,!1))}function Tc(r,e){if(e.has(r))return e.get(r);const t=Array.isArray(r)?[]:{};return e.set(r,t),t}function Ue(r,e,t,n,i){const{knownChanged:s}=t,o=Tc(r,t.mutableTargets);if(Array.isArray(r)){for(const[a,c]of Array.from(r.entries())){if(c===null){o[a]=null;continue}const u=Ue(c,e,t,n);s.has(u)&&s.add(o),o[a]=u}return s.has(o)?o:r}for(const a of e.selections){let c;if(n&&s.add(o),a.kind===k.FIELD){const u=Re(a),l=a.selectionSet;if(c=o[u]||r[u],c===void 0)continue;if(l&&c!==null){const f=Ue(r[u],l,t,n);s.has(f)&&(c=f)}o[u]=c}if(a.kind===k.INLINE_FRAGMENT&&(!a.typeCondition||t.cache.fragmentMatches(a,r.__typename))&&(c=Ue(r,a.selectionSet,t,n)),a.kind===k.FRAGMENT_SPREAD){const u=a.name.value,l=t.fragmentMap[u]||(t.fragmentMap[u]=t.cache.lookupFragment(u));C(l,39,u);const f=Oc(a);f!=="mask"&&(c=Ue(r,l.selectionSet,t,f==="migrate"))}s.has(c)&&s.add(o)}return"__typename"in r&&!("__typename"in o)&&(o.__typename=r.__typename),Object.keys(o).length!==Object.keys(r).length&&s.add(o),s.has(o)?o:r}function xc(r,e,t,n){const i=e.definitions.filter(o=>o.kind===k.FRAGMENT_DEFINITION);typeof n>"u"&&(C(i.length===1,41,i.length),n=i[0].name.value);const s=i.find(o=>o.name.value===n);return C(!!s,42,n),r==null||I(r,{})?r:Xi(r,s.selectionSet,{operationName:s.name.value,fragmentMap:Ze(et(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}function Cc(r,e,t){var i;const n=re(e);return C(n,43),r==null?r:Xi(r,n.selectionSet,{operationType:n.operation,operationName:(i=n.name)==null?void 0:i.value,fragmentMap:Ze(et(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}const xn={};function Vr(r){const e=JSON.stringify(r);return xn[e]||(xn[e]={})}function Cn(r){const e=Vr(r);return e.keyFieldsFn||(e.keyFieldsFn=(t,n)=>{const i=(o,a)=>n.readField(a,o),s=n.keyObject=qr(r,o=>{let a=Se(n.storeObject,o,i);return a===void 0&&t!==n.storeObject&&L.call(t,o[0])&&(a=Se(t,o,es)),C(a!==void 0,98,o.join("."),t),a});return`${n.typename}:${JSON.stringify(s)}`})}function _n(r){const e=Vr(r);return e.keyArgsFn||(e.keyArgsFn=(t,{field:n,variables:i,fieldName:s})=>{const o=qr(r,c=>{const u=c[0],l=u.charAt(0);if(l==="@"){if(n&&Lr(n.directives)){const f=u.slice(1),h=n.directives.find(m=>m.name.value===f),d=h&&Dr(h,i);return d&&Se(d,c.slice(1))}return}if(l==="$"){const f=u.slice(1);if(i&&L.call(i,f)){const h=c.slice(0);return h[0]=f,Se(i,h)}return}if(t)return Se(t,c)}),a=JSON.stringify(o);return(t||a!=="{}")&&(s+=":"+a),s})}function qr(r,e){const t=new Ie;return Zi(r).reduce((n,i)=>{let s=e(i);if(s!==void 0){for(let o=i.length-1;o>=0;--o)s={[i[o]]:s};n=t.merge(n,s)}return n},{})}function Zi(r){const e=Vr(r);if(!e.paths){const t=e.paths=[],n=[];r.forEach((i,s)=>{F(i)?(Zi(i).forEach(o=>t.push(n.concat(o))),n.length=0):(n.push(i),F(r[s+1])||(t.push(n.slice(0)),n.length=0))})}return e.paths}function es(r,e){return r[e]}function Se(r,e,t){return t=t||es,ts(e.reduce(function n(i,s){return F(i)?i.map(o=>n(o,s)):i&&t(i,s)},r))}function ts(r){return W(r)?F(r)?r.map(ts):qr(Object.keys(r).sort(),e=>Se(r,e)):r}const rs=new It,In=new WeakMap;function Qe(r){let e=In.get(r);return e||In.set(r,e={vars:new Set,dep:ji()}),e}function Nn(r){Qe(r).vars.forEach(e=>e.forgetCache(r))}function _c(r){Qe(r).vars.forEach(e=>e.attachCache(r))}function Ic(r){const e=new Set,t=new Set,n=function(s){if(arguments.length>0){if(r!==s){r=s,e.forEach(a=>{Qe(a).dep.dirty(n),Nc(a)});const o=Array.from(t);t.clear(),o.forEach(a=>a(r))}}else{const o=rs.getValue();o&&(i(o),Qe(o).dep(n))}return r};n.onNextChange=s=>(t.add(s),()=>{t.delete(s)});const i=n.attachCache=s=>(e.add(s),Qe(s).vars.add(n),n);return n.forgetCache=s=>e.delete(s),n}function Nc(r){r.broadcastWatches&&r.broadcastWatches()}function yr(r){return r.args!==void 0?r.args:r.field?Dr(r.field,r.variables):null}const Ac=()=>{},An=(r,e)=>e.fieldName,Dn=(r,e,{mergeObjects:t})=>t(r,e),Fn=(r,e)=>e;class Dc{constructor(e){p(this,"config");p(this,"typePolicies",{});p(this,"toBeAdded",{});p(this,"supertypeMap",new Map);p(this,"fuzzySubtypes",new Map);p(this,"cache");p(this,"rootIdsByTypename",{});p(this,"rootTypenamesById",{});p(this,"usingPossibleTypes",!1);this.config=e,this.config={dataIdFromObject:Gi,...e},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}identify(e,t){var l;const n=this,i=t&&(t.typename||((l=t.storeObject)==null?void 0:l.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];const s=t&&t.storeObject||e,o={...t,typename:i,storeObject:s,readField:t&&t.readField||((...f)=>{const h=Br(f,s);return n.readField(h,{store:n.cache.data,variables:h.variables})})};let a;const c=i&&this.getTypePolicy(i);let u=c&&c.keyFn||this.config.dataIdFromObject;return Ki.withValue(!0,()=>{for(;u;){const f=u({...e,...s},o);if(F(f))u=Cn(f);else{a=f;break}}}),a=a?String(a):void 0,o.keyObject?[a,o.keyObject]:[a]}addTypePolicies(e){Object.keys(e).forEach(t=>{const{queryType:n,mutationType:i,subscriptionType:s,...o}=e[t];n&&this.setRootTypename("Query",t),i&&this.setRootTypename("Mutation",t),s&&this.setRootTypename("Subscription",t),L.call(this.toBeAdded,t)?this.toBeAdded[t].push(o):this.toBeAdded[t]=[o]})}updateTypePolicy(e,t,n){const i=this.getTypePolicy(e),{keyFields:s,fields:o}=t;function a(c,u){c.merge=typeof u=="function"?u:u===!0?Dn:u===!1?Fn:c.merge}a(i,t.merge),i.keyFn=s===!1?Ac:F(s)?Cn(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(c=>{let u=n[c];(!u||(u==null?void 0:u.typename)!==e)&&(u=n[c]={typename:e});const l=o[c];if(typeof l=="function")u.read=l;else{const{keyArgs:f,read:h,merge:d}=l;u.keyFn=f===!1?An:F(f)?_n(f):typeof f=="function"?f:u.keyFn,typeof h=="function"&&(u.read=h),a(u,d)}u.read&&u.merge&&(u.keyFn=u.keyFn||An)})}setRootTypename(e,t=e){const n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];t!==i&&(C(!i||i===e,99,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)}addPossibleTypes(e){this.usingPossibleTypes=!0,Object.keys(e).forEach(t=>{this.getSupertypeSet(t,!0),e[t].forEach(n=>{this.getSupertypeSet(n,!0).add(t);const i=n.match(Hi);(!i||i[0]!==n)&&this.fuzzySubtypes.set(n,new RegExp(n))})})}getTypePolicy(e){if(!L.call(this.typePolicies,e)){const n=this.typePolicies[e]={};n.fields={};let i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((s,o)=>{if(s.test(e)){const a=this.supertypeMap.get(o);a&&a.forEach(c=>i.add(c))}})),i&&i.size&&i.forEach(s=>{const{fields:o,...a}=this.getTypePolicy(s);Object.assign(n,a),Object.assign(n.fields,o)})}const t=this.toBeAdded[e];return t&&t.length&&t.splice(0).forEach(n=>{this.updateTypePolicy(e,n,this.typePolicies[e].fields)}),this.typePolicies[e]}getFieldPolicy(e,t){if(e)return this.getTypePolicy(e).fields[t]}getSupertypeSet(e,t){let n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n}fragmentMatches(e,t,n,i){if(!e.typeCondition)return!0;if(!t)return!1;const s=e.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s)){const o=this.getSupertypeSet(t,!0),a=[o],c=l=>{const f=this.getSupertypeSet(l,!1);f&&f.size&&a.indexOf(f)<0&&a.push(f)};let u=!!(n&&this.fuzzySubtypes.size);for(let l=0;l<a.length;++l){const f=a[l];if(f.has(s))return o.has(s)||o.add(s),!0;f.forEach(c),u&&l===a.length-1&&mr(e.selectionSet,n,i)&&(u=!1,this.fuzzySubtypes.forEach((h,d)=>{const m=t.match(h);m&&m[0]===t&&c(d)}))}}return!1}hasKeyArgs(e,t){const n=this.getFieldPolicy(e,t);return!!(n&&n.keyFn)}getStoreFieldName(e){const{typename:t,fieldName:n}=e,i=this.getFieldPolicy(t,n);let s,o=i&&i.keyFn;if(o&&t){const a={typename:t,fieldName:n,field:e.field||null,variables:e.variables},c=yr(e);for(;o;){const u=o(c,a);if(F(u))o=_n(u);else{s=u||n;break}}}return s===void 0&&(s=e.field?sc(e.field,e.variables):Ui(n,yr(e))),s===!1?n:n===Ne(s)?s:n+":"+s}readField(e,t){const n=e.from;if(!n||!(e.field||e.fieldName))return;if(e.typename===void 0){const l=t.store.getFieldValue(n,"__typename");l&&(e.typename=l)}const s=this.getStoreFieldName(e),o=Ne(s),a=t.store.getFieldValue(n,s),c=this.getFieldPolicy(e.typename,o),u=c&&c.read;if(u){const l=Rn(this,n,e,t,t.store.getStorage(N(n)?n.__ref:n,s));return rs.withValue(this.cache,u,[a,l])}return a}getReadFunction(e,t){const n=this.getFieldPolicy(e,t);return n&&n.read}getMergeFunction(e,t,n){let i=this.getFieldPolicy(e,t),s=i&&i.merge;return!s&&n&&(i=this.getTypePolicy(n),s=i&&i.merge),s}runMergeFunction(e,t,{field:n,typename:i,merge:s},o,a){return s===Dn?ns(o.store)(e,t):s===Fn?t:(o.overwrite&&(e=void 0),s(e,t,Rn(this,void 0,{typename:i,fieldName:n.name.value,field:n,variables:o.variables},o,a||{})))}}function Rn(r,e,t,n,i){const s=r.getStoreFieldName(t),o=Ne(s),a=t.variables||n.variables,{toReference:c,canRead:u}=n.store;return{args:yr(t),field:t.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:N,toReference:c,storage:i,cache:r.cache,canRead:u,readField(...l){return r.readField(Br(l,e,a),n)},mergeObjects:ns(n.store)}}function Br(r,e,t){const{0:n,1:i,length:s}=r;let o;return typeof n=="string"?o={fieldName:n,from:s>1?i:e}:(o={...n},L.call(o,"from")||(o.from=e)),o.variables===void 0&&(o.variables=t),o}function ns(r){return function(t,n){if(F(t)||F(n))throw $(102);if(W(t)&&W(n)){const i=r.getFieldValue(t,"__typename"),s=r.getFieldValue(n,"__typename");if(i&&s&&i!==s)return n;if(N(t)&&ve(n))return r.merge(t.__ref,n),t;if(ve(t)&&N(n))return r.merge(t,n.__ref),n;if(ve(t)&&ve(n))return{...t,...n}}return n}}function Pn(r){return[r.selectionSet,r.objectOrReference,r.context]}class Fc{constructor(e){p(this,"executeSelectionSet");p(this,"executeSubSelectedArray");p(this,"config");p(this,"knownResults",new WeakMap);this.config=e,this.executeSelectionSet=Ce(t=>{const n=Pn(t),i=this.executeSelectionSet.peek(...n);return i||(Tn(t.context.store,t.enclosingRef.__ref),this.execSelectionSetImpl(t))},{max:te["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Pn,makeCacheKey(t,n,i){if(ze(i.store))return i.store.makeCacheKey(t,N(n)?n.__ref:n,i.varString)}}),this.executeSubSelectedArray=Ce(t=>(Tn(t.context.store,t.enclosingRef.__ref),this.execSubSelectedArrayImpl(t)),{max:te["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:t,array:n,context:i}){if(ze(i.store))return i.store.makeCacheKey(t,n,i.varString)}})}diffQueryAgainstStore({store:e,query:t,rootId:n="ROOT_QUERY",variables:i,returnPartialData:s=!0}){const o=this.config.cache.policies;i={...Mr(za(t)),...i};const a=Ee(n),c=this.executeSelectionSet({selectionSet:Vi(t).selectionSet,objectOrReference:a,enclosingRef:a,context:{store:e,query:t,policies:o,variables:i,varString:ie(i),...Yi(t,this.config.fragments)}});let u;c.missing&&(u=new jr(Rc(c.missing),c.missing,t,i));const l=!u,{result:f}=c;return{result:l||s?Object.keys(f).length===0?null:f:null,complete:l,missing:u}}isFresh(e,t,n,i){if(ze(i.store)&&this.knownResults.get(e)===n){const s=this.executeSelectionSet.peek(n,t,i);if(s&&e===s.result)return!0}return!1}execSelectionSetImpl({selectionSet:e,objectOrReference:t,enclosingRef:n,context:i}){if(N(t)&&!i.policies.rootTypenamesById[t.__ref]&&!i.store.has(t.__ref))return{result:{},missing:`Dangling reference to missing ${t.__ref} object`};const{variables:s,policies:o,store:a}=i,c=a.getFieldValue(t,"__typename"),u=[];let l;const f=new Ie;typeof c=="string"&&!o.rootIdsByTypename[c]&&u.push({__typename:c});function h(v,E){return v.missing&&(l=f.merge(l,{[E]:v.missing})),v.result}const d=new Set(e.selections);d.forEach(v=>{if(Ft(v,s))if(tt(v)){let E=o.readField({fieldName:v.name.value,field:v,variables:i.variables,from:t},i);const w=Re(v);E===void 0?Qi.added(v)||(l=f.merge(l,{[w]:`Can't find field '${v.name.value}' on ${N(t)?t.__ref+" object":"object "+JSON.stringify(t,null,2)}`})):F(E)?E.length>0&&(E=h(this.executeSubSelectedArray({field:v,array:E,enclosingRef:n,context:i}),w)):v.selectionSet&&E!=null&&(E=h(this.executeSelectionSet({selectionSet:v.selectionSet,objectOrReference:E,enclosingRef:N(E)?E:n,context:i}),w)),E!==void 0&&u.push({[w]:E})}else{const E=Dt(v,i.lookupFragment);if(!E&&v.kind===k.FRAGMENT_SPREAD)throw $(103,v.name.value);E&&o.fragmentMatches(E,c)&&E.selectionSet.selections.forEach(d.add,d)}});const b={result:Ka(u),missing:l},y=b;return y.result&&this.knownResults.set(y.result,e),y}execSubSelectedArrayImpl({field:e,array:t,enclosingRef:n,context:i}){let s,o=new Ie;function a(c,u){return c.missing&&(s=o.merge(s,{[u]:c.missing})),c.result}return e.selectionSet&&(t=t.filter(i.store.canRead)),t=t.map((c,u)=>c===null?null:F(c)?a(this.executeSubSelectedArray({field:e,array:c,enclosingRef:n,context:i}),u):e.selectionSet?a(this.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,enclosingRef:N(c)?c:n,context:i}),u):c),{result:t,missing:s}}}function Rc(r){try{JSON.stringify(r,(e,t)=>{if(typeof t=="string")throw t;return t})}catch(e){return e}}function Jt(r,e,t){const n=`${e}${t}`;let i=r.flavors.get(n);return i||r.flavors.set(n,i=r.clientOnly===e&&r.deferred===t?r:{...r,clientOnly:e,deferred:t}),i}class Pc{constructor(e,t,n){p(this,"cache");p(this,"reader");p(this,"fragments");this.cache=e,this.reader=t,this.fragments=n}writeToStore(e,{query:t,result:n,dataId:i,variables:s,overwrite:o}){const a=re(t),c=Ec();s={...Mr(a),...s};const u={store:e,written:{},merge(f,h){return c.merge(f,h)},variables:s,varString:ie(s),...Yi(t,this.fragments),overwrite:!!o,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},l=this.processSelectionSet({result:n||{},dataId:i,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:u});if(!N(l))throw $(105,n);return u.incomingById.forEach(({storeObject:f,mergeTree:h,fieldNodeSet:d},m)=>{const b=Ee(m);if(h&&h.map.size){const y=this.applyMerges(h,b,f,u);if(N(y))return;f=y}e.merge(m,f)}),e.retain(l.__ref),l}processSelectionSet({dataId:e,result:t,selectionSet:n,context:i,mergeTree:s}){const{policies:o}=this.cache;let a={};const c=e&&o.rootTypenamesById[e]||vr(t,n,i.fragmentMap)||e&&i.store.get(e,"__typename");typeof c=="string"&&(a.__typename=c);const u=(...f)=>{const h=Br(f,a,i.variables);if(N(h.from)){const d=i.incomingById.get(h.from.__ref);if(d){const m=o.readField({...h,from:d.storeObject},i);if(m!==void 0)return m}}return o.readField(h,i)},l=new Set;this.flattenFields(n,t,i,c).forEach((f,h)=>{const d=Re(h),m=t[d];if(l.add(h),m!==void 0){const b=o.getStoreFieldName({typename:c,fieldName:h.name.value,field:h,variables:f.variables}),y=Mn(s,b);let v=this.processFieldValue(m,h,h.selectionSet?Jt(f,!1,!1):f,y),E;h.selectionSet&&(N(v)||ve(v))&&(E=u("__typename",v));const w=o.getMergeFunction(c,h.name.value,E);w?y.info={field:h,typename:c,merge:w}:Ln(s,b),a=f.merge(a,{[b]:v})}});try{const[f,h]=o.identify(t,{typename:c,selectionSet:n,fragmentMap:i.fragmentMap,storeObject:a,readField:u});e=e||f,h&&(a=i.merge(a,h))}catch(f){if(!e)throw f}if(typeof e=="string"){const f=Ee(e),h=i.written[e]||(i.written[e]=[]);if(h.indexOf(n)>=0||(h.push(n),this.reader&&this.reader.isFresh(t,f,n,i)))return f;const d=i.incomingById.get(e);return d?(d.storeObject=i.merge(d.storeObject,a),d.mergeTree=gr(d.mergeTree,s),l.forEach(m=>d.fieldNodeSet.add(m))):i.incomingById.set(e,{storeObject:a,mergeTree:St(s)?void 0:s,fieldNodeSet:l}),f}return a}processFieldValue(e,t,n,i){return!t.selectionSet||e===null?e:F(e)?e.map((s,o)=>{const a=this.processFieldValue(s,t,n,Mn(i,o));return Ln(i,o),a}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:i})}flattenFields(e,t,n,i=vr(t,e,n.fragmentMap)){const s=new Map,{policies:o}=this.cache,a=new ce(!1);return function c(u,l){const f=a.lookup(u,l.clientOnly,l.deferred);f.visited||(f.visited=!0,u.selections.forEach(h=>{if(!Ft(h,n.variables))return;let{clientOnly:d,deferred:m}=l;if(!(d&&m)&&Lr(h.directives)&&h.directives.forEach(b=>{const y=b.name.value;if(y==="client"&&(d=!0),y==="defer"){const v=Dr(b,n.variables);(!v||v.if!==!1)&&(m=!0)}}),tt(h)){const b=s.get(h);b&&(d=d&&b.clientOnly,m=m&&b.deferred),s.set(h,Jt(n,d,m))}else{const b=Dt(h,n.lookupFragment);if(!b&&h.kind===k.FRAGMENT_SPREAD)throw $(107,h.name.value);b&&o.fragmentMatches(b,i,t,n.variables)&&c(b.selectionSet,Jt(n,d,m))}}))}(e,n),s}applyMerges(e,t,n,i,s){if(e.map.size&&!N(n)){const o=!F(n)&&(N(t)||ve(t))?t:void 0,a=n;o&&!s&&(s=[N(o)?o.__ref:o]);let c;const u=(l,f)=>F(l)?typeof f=="number"?l[f]:void 0:i.store.getFieldValue(l,String(f));e.map.forEach((l,f)=>{const h=u(o,f),d=u(a,f);if(d===void 0)return;s&&s.push(f);const m=this.applyMerges(l,h,d,i,s);m!==d&&(c=c||new Map,c.set(f,m)),s&&C(s.pop()===f)}),c&&(n=F(a)?a.slice(0):{...a},c.forEach((l,f)=>{n[f]=l}))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,i,s&&i.store.getStorage(...s)):n}}const is=[];function Mn({map:r},e){return r.has(e)||r.set(e,is.pop()||{map:new Map}),r.get(e)}function gr(r,e){if(r===e||!e||St(e))return r;if(!r||St(r))return e;const t=r.info&&e.info?{...r.info,...e.info}:r.info||e.info,n=r.map.size&&e.map.size,i=n?new Map:r.map.size?r.map:e.map,s={info:t,map:i};if(n){const o=new Set(e.map.keys());r.map.forEach((a,c)=>{s.map.set(c,gr(a,e.map.get(c))),o.delete(c)}),o.forEach(a=>{s.map.set(a,gr(e.map.get(a),r.map.get(a)))})}return s}function St(r){return!r||!(r.info||r.map.size)}function Ln({map:r},e){const t=r.get(e);t&&St(t)&&(is.push(t),r.delete(e))}function vr(r,e,t){let n;for(const i of e.selections)if(tt(i)){if(i.name.value==="__typename")return r[Re(i)]}else n?n.push(i):n=[i];if(typeof r.__typename=="string")return r.__typename;if(n)for(const i of n){const s=vr(r,Dt(i,t).selectionSet,t);if(typeof s=="string")return s}}class Mc extends gc{constructor(t={}){super();p(this,"data");p(this,"optimisticData");p(this,"config");p(this,"watches",new Set);p(this,"storeReader");p(this,"storeWriter");p(this,"addTypenameTransform",new ee(Qi));p(this,"maybeBroadcastWatch");p(this,"assumeImmutableResults",!0);p(this,"policies");p(this,"makeVar",Ic);p(this,"txCount",0);this.config=bc(t),this.policies=new Dc({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){const t=this.data=new Rt.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()}resetResultCache(){const{fragments:t}=this.config;this.addTypenameTransform.resetCache(),t==null||t.resetCaches(),this.storeWriter=new Pc(this,this.storeReader=new Fc({cache:this,fragments:t}),t),this.maybeBroadcastWatch=Ce((n,i)=>this.broadcastWatch(n,i),{max:te["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:n=>{const i=n.optimistic?this.optimisticData:this.data;if(ze(i)){const{optimistic:s,id:o,variables:a}=n;return i.makeCacheKey(n.query,n.callback,ie({optimistic:s,id:o,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(n=>n.resetCaching())}restore(t){return this.init(),t&&this.data.replace(t),this}extract(t=!1){return(t?this.optimisticData:this.data).extract()}read(t){const{returnPartialData:n=!1}=t;return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n}).result}write(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}modify(t){if(L.call(t,"id")&&!t.id)return!1;const n=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(t.id||"ROOT_QUERY",t.fields,!1)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}diff(t){return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config})}watch(t){return this.watches.size||_c(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),()=>{this.watches.delete(t)&&!this.watches.size&&Nn(this),this.maybeBroadcastWatch.forget(t)}}gc(t){ie.reset(),ke.reset();const n=this.optimisticData.gc();return t&&!this.txCount&&t.resetResultCache&&this.resetResultCache(),n}retain(t,n){return(n?this.optimisticData:this.data).retain(t)}release(t,n){return(n?this.optimisticData:this.data).release(t)}identify(t){if(N(t))return t.__ref;try{return this.policies.identify(t)[0]}catch{}}evict(t){if(!t.id){if(L.call(t,"id"))return!1;t={...t,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}reset(t){return this.init(),ie.reset(),t&&t.discardWatches?(this.watches.forEach(n=>this.maybeBroadcastWatch.forget(n)),this.watches.clear(),Nn(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(t){const n=this.optimisticData.removeLayer(t);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())}batch(t){const{update:n,optimistic:i=!0,removeOptimistic:s,onWatchUpdated:o}=t;let a;const c=l=>{const{data:f,optimisticData:h}=this;++this.txCount,l&&(this.data=this.optimisticData=l);try{return a=n(this)}finally{--this.txCount,this.data=f,this.optimisticData=h}},u=new Set;return o&&!this.txCount&&this.broadcastWatches({...t,onWatchUpdated(l){return u.add(l),!1}}),typeof i=="string"?this.optimisticData=this.optimisticData.addLayer(i,c):i===!1?c(this.data):c(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),o&&u.size?(this.broadcastWatches({...t,onWatchUpdated(l,f){const h=o.call(this,l,f);return h!==!1&&u.delete(l),h}}),u.size&&u.forEach(l=>this.maybeBroadcastWatch.dirty(l))):this.broadcastWatches(t),a}performTransaction(t,n){return this.batch({update:t,optimistic:n||n!==null})}transformDocument(t){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(t))}fragmentMatches(t,n){return this.policies.fragmentMatches(t,n)}lookupFragment(t){var n;return((n=this.config.fragments)==null?void 0:n.lookup(t))||null}broadcastWatches(t){this.txCount||this.watches.forEach(n=>this.maybeBroadcastWatch(n,t))}addFragmentsToDocument(t){const{fragments:n}=this.config;return n?n.transform(t):t}broadcastWatch(t,n){const{lastDiff:i}=t,s=this.diff(t);n&&(t.optimistic&&typeof n.optimistic=="string"&&(s.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,t,s,i)===!1)||(!i||!I(i.result,s.result))&&t.callback(t.lastDiff=s,i)}}function rt(r,e){return typeof r=="object"&&r!==null&&r[Symbol.for("apollo.error")]===e}function nt(r){Object.defineProperty(r,Symbol.for("apollo.error"),{value:r.name,enumerable:!1,writable:!1,configurable:!1})}function jn(r){return r.map(e=>e.message||"Error message not found.").join(`
`)}const $e=class $e extends Error{constructor(t){super($e.formatMessage(t,{defaultFormatMessage:jn}));p(this,"errors");this.name="CombinedProtocolErrors",this.errors=t,nt(this),Object.setPrototypeOf(this,$e.prototype)}static is(t){return rt(t,"CombinedProtocolErrors")}};p($e,"formatMessage",jn);let wt=$e;function Lc(r){return r!==null&&typeof r=="object"&&typeof r.message=="string"&&typeof r.name=="string"&&(typeof r.stack=="string"||typeof r.stack>"u")}class Ur extends Error{static is(e){return rt(e,"UnconventionalError")}constructor(e){super("An error of unexpected shape occurred.",{cause:e}),this.name="UnconventionalError",nt(this),Object.setPrototypeOf(this,Ur.prototype)}}function Vn(r){return r.filter(e=>e).map(e=>e.message||"Error message not found.").join(`
`)}const Ge=class Ge extends Error{constructor(t,n=t.errors||[]){super(Ge.formatMessage(n,{result:t,defaultFormatMessage:Vn}));p(this,"errors");p(this,"data");p(this,"extensions");this.errors=n,this.data=t.data,this.extensions=t.extensions,this.name="CombinedGraphQLErrors",nt(this),Object.setPrototypeOf(this,Ge.prototype)}static is(t){return rt(t,"CombinedGraphQLErrors")}};p(Ge,"formatMessage",Vn);let fe=Ge;const jc=new WeakSet;function Vc(r){jc.add(r)}class Pt extends Error{constructor(t,n){super(t);p(this,"response");p(this,"statusCode");p(this,"bodyText");this.name="ServerError",this.response=n.response,this.statusCode=n.response.status,this.bodyText=n.bodyText,nt(this),Object.setPrototypeOf(this,Pt.prototype)}static is(t){return rt(t,"ServerError")}}class Mt extends Error{constructor(t,n){super(t instanceof Error?t.message:"Could not parse server response",{cause:t});p(this,"response");p(this,"statusCode");p(this,"bodyText");this.name="ServerParseError",this.response=n.response,this.statusCode=n.response.status,this.bodyText=n.bodyText,nt(this),Object.setPrototypeOf(this,Mt.prototype)}static is(t){return rt(t,"ServerParseError")}}const Ot=Symbol();function qc(r){return"extensions"in r?wt.is(r.extensions[Ot]):!1}function Bc(r){return Lc(r)?r:typeof r=="string"?new Error(r,{cause:r}):new Ur(r)}var x;(function(r){r[r.loading=1]="loading",r[r.setVariables=2]="setVariables",r[r.fetchMore=3]="fetchMore",r[r.refetch=4]="refetch",r[r.poll=6]="poll",r[r.ready=7]="ready",r[r.error=8]="error",r[r.streaming=9]="streaming"})(x||(x={}));function br(r){return!Uc(r)}function Uc(r){return r===7||r===8}const{assign:qn}=Object,me={loading:!0,networkStatus:x.loading,data:void 0,dataState:"empty",partial:!0},Kt={loading:!1,networkStatus:x.ready,data:void 0,dataState:"empty",partial:!0};var $n;$n=Symbol.observable;class Xt{constructor({queryManager:e,options:t,transformedQuery:n=e.transform(t.query)}){p(this,"options");p(this,"queryName");p(this,"_lastWrite");p(this,"unsubscribeFromCache");p(this,"input");p(this,"subject");p(this,"isTornDown");p(this,"queryManager");p(this,"subscriptions",new Set);p(this,"waitForNetworkResult");p(this,"lastQuery");p(this,"linkSubscription");p(this,"pollingInfo");p(this,"subscribe");p(this,"pipe");p(this,$n);p(this,"@@observable");p(this,"stableLastResult");p(this,"didWarnCacheOnlyPolling",!1);p(this,"dirty",!1);p(this,"notifyTimeout");p(this,"activeOperations",new Set);p(this,"operator",fr(e=>{const{query:t,variables:n,meta:i}=e;if(e.source==="setResult")return{query:t,variables:n,result:e.value,meta:i};if(e.kind==="C"||!Le(e,this))return;let s;const o=this.subject.getValue();if(e.source==="cache"){if(s=e.value,s.networkStatus===x.ready&&s.partial&&(!this.options.returnPartialData||o.result.networkStatus===x.error)&&this.options.fetchPolicy!=="cache-only")return}else if(e.source==="network")this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),s=e.kind==="E"?{...Le(o,e)?o.result:{data:void 0,dataState:"empty",partial:!0},error:e.error,networkStatus:x.error,loading:!1}:e.value,e.kind==="E"&&s.dataState==="streaming"&&(s.dataState="complete"),s.error&&(i.shouldEmit=1);else if(e.source==="newNetworkStatus"){const a=Le(o,e)?o.result:this.getInitialResult(i.fetchPolicy),{resetError:c}=e.value,u=c?void 0:a.error,l=u?x.error:x.ready;s={...a,error:u,networkStatus:l}}return C(s),s.error||delete s.error,s.networkStatus=this.calculateNetworkStatus(s.networkStatus),s.loading=br(s.networkStatus),s=this.maskResult(s),{query:t,variables:n,result:s,meta:i}}));this.queryManager=e,this.waitForNetworkResult=t.fetchPolicy==="network-only",this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:i="cache-first"}={}}=e.defaultOptions,{fetchPolicy:s=i,initialFetchPolicy:o=s==="standby"?i:s}=t;this.lastQuery=n,this.options={...t,initialFetchPolicy:o,fetchPolicy:s,variables:this.getVariablesWithDefaults(t.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const a=re(this.query);this.queryName=a&&a.name&&a.name.value}get query(){return this.lastQuery}get variables(){return this.options.variables}get networkStatus(){return this.subject.getValue().result.networkStatus}initializeObservablesQueue(){this.subject=new Do({query:this.query,variables:this.variables,result:me,meta:{}});const e=this.subject.pipe(kt({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),fr(({query:t,variables:n,result:i,meta:s},o)=>{const{shouldEmit:a}=s;if(i===me&&(o.previous=void 0,o.previousVariables=void 0),this.options.fetchPolicy==="standby"||a===2)return;if(a===1)return l();const{previous:c,previousVariables:u}=o;if(c){const f=this.queryManager.getDocumentInfo(t),h=this.queryManager.dataMasking,d=h?f.nonReactiveQuery:t;if((h||f.hasNonreactiveDirective?zi(d,c,i,n):I(c,i))&&I(u,n))return}if(a===3&&(!this.options.notifyOnNetworkStatusChange||I(c,i)))return;return l();function l(){return o.previous=i,o.previousVariables=n,i}},()=>({})));this.pipe=e.pipe.bind(e),this.subscribe=e.subscribe.bind(e),this.input=new Fe,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}getCacheDiff({optimistic:e=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:e})}getInitialResult(e){const t=this.queryManager.prioritizeCacheValues?"cache-first":e||this.options.fetchPolicy,n=()=>{const i=this.getCacheDiff(),s=this.options.returnPartialData||i.complete?i.result??void 0:void 0;return this.maskResult({data:s,dataState:i.complete?"complete":s===void 0?"empty":"partial",loading:!i.complete,networkStatus:i.complete?x.ready:x.loading,partial:!i.complete})};switch(t){case"cache-only":return{...n(),loading:!1,networkStatus:x.ready};case"cache-first":return n();case"cache-and-network":return{...n(),loading:!0,networkStatus:x.loading};case"standby":return Kt;default:return me}}resubscribeCache(){var c;const{variables:e,fetchPolicy:t}=this.options,n=this.query,i=t==="standby"||t==="no-cache"||this.waitForNetworkResult,s=!Le({query:n,variables:e},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((i||s)&&((c=this.unsubscribeFromCache)==null||c.call(this)),i||!s)return;const o={query:n,variables:e,optimistic:!0,watcher:this,callback:u=>{const l=this.queryManager.getDocumentInfo(n);if((l.hasClientExports||l.hasForcedResolvers)&&(o.lastDiff=void 0),o.lastOwnDiff===u)return;const{result:f}=this.subject.getValue();!u.complete&&(f.error||f===me||f===Kt)||I(f.data,u.result)||this.scheduleNotify()}},a=this.queryManager.cache.watch(o);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,a()},{query:n,variables:e})}getCurrentResult(){const{result:e}=this.subject.getValue();let t=e.networkStatus===x.error||this.hasObservers()||this.options.fetchPolicy==="no-cache"?e:this.getInitialResult();return t===me&&(t=this.getInitialResult()),I(this.stableLastResult,t)||(this.stableLastResult=t),this.stableLastResult}refetch(e){const{fetchPolicy:t}=this.options,n={pollInterval:0};return t==="no-cache"?n.fetchPolicy="no-cache":n.fetchPolicy="network-only",e&&!I(this.variables,e)&&(n.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...e})),this._lastWrite=void 0,this._reobserve(n,{newNetworkStatus:x.refetch})}fetchMore({query:e,variables:t,context:n,errorPolicy:i,updateQuery:s}){C(this.options.fetchPolicy!=="cache-only",78,_e(this.query,"(anonymous)"));const o={...Q(this.options,{errorPolicy:"none"},{query:e,context:n,errorPolicy:i}),variables:e?t:{...this.variables,...t},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};o.query=this.transformDocument(o.query),this.lastQuery=e?this.transformDocument(this.options.query):o.query;let a=!1;const c=this.options.fetchPolicy!=="no-cache";c||C(s,79);const{finalize:u,pushNotification:l}=this.pushOperation(x.fetchMore);return l({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(o,x.fetchMore).then(f=>{if(u(),c)this.queryManager.cache.batch({update:h=>{s?h.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},d=>s(d,{fetchMoreResult:f.data,variables:o.variables})):h.writeQuery({query:o.query,variables:o.variables,data:f.data})},onWatchUpdated:h=>{h.watcher===this&&(a=!0)}});else{const h=this.getCurrentResult(),d=s(h.data,{fetchMoreResult:f.data,variables:o.variables});l({kind:"N",value:{...h,networkStatus:x.ready,loading:!1,data:d,dataState:h.dataState==="streaming"?"streaming":"complete"},source:"network"})}return this.maskResult(f)}).finally(()=>{u(),c&&!a&&l({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(e){const t=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:n=>{const{updateQuery:i,onError:s}=e,{error:o}=n;if(o){s?s(o):C.error(80,o);return}i&&this.updateQuery((a,c)=>i(a,{subscriptionData:n,...c}))}});return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)&&t.unsubscribe()}}applyOptions(e){const t=Q(this.options,e||{});qn(this.options,t),this.updatePolling()}async setVariables(e){return e=this.getVariablesWithDefaults(e),I(this.variables,e)?dt(this.getCurrentResult()):(this.options.variables=e,this.hasObservers()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},{newNetworkStatus:x.setVariables}):dt(this.getCurrentResult()))}updateQuery(e){const{queryManager:t}=this,{result:n,complete:i}=this.getCacheDiff({optimistic:!1}),s=e(n,{variables:this.variables,complete:!!i,previousData:n});s&&(t.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),t.broadcastQueries())}startPolling(e){this.options.pollInterval=e,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(e,t){if(t.nextFetchPolicy){const{fetchPolicy:n="cache-first",initialFetchPolicy:i=n}=t;n==="standby"||(typeof t.nextFetchPolicy=="function"?t.fetchPolicy=t.nextFetchPolicy.call(t,n,{reason:e,options:t,observable:this,initialFetchPolicy:i}):e==="variables-changed"?t.fetchPolicy=i:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy}fetch(e,t,n,i){const s=this.options.fetchPolicy;e.context??(e.context={});let o=!1;const a=()=>{o=!0},c=y=>new R(v=>{try{return y.subscribe({next(E){o=!0,v.next(E)},error:E=>v.error(E),complete:()=>v.complete()})}finally{o||(d.override=t,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:f,variables:h,meta:{shouldEmit:3,fetchPolicy:s}}))}});let{observable:u,fromLink:l}=this.queryManager.fetchObservableWithInfo(e,{networkStatus:t,query:n,onCacheHit:a,fetchQueryOperator:c,observableQuery:this});const{query:f,variables:h}=this,d={abort:()=>{b.unsubscribe()},query:f,variables:h};this.activeOperations.add(d);let m=t==x.refetch||t==x.setVariables;u=u.pipe(i,Et());const b=u.pipe(kt({next:y=>{y.source==="newNetworkStatus"||y.kind==="N"&&y.value.loading?d.override=t:delete d.override},finalize:()=>this.activeOperations.delete(d)})).subscribe({next:y=>{const v={};m&&y.kind==="N"&&"loading"in y.value&&!y.value.loading&&(m=!1,v.shouldEmit=1),this.input.next({...y,query:f,variables:h,meta:v})}});return{fromLink:l,subscription:b,observable:u}}updatePolling(){if(this.queryManager.ssrMode)return;const{pollingInfo:e,options:{fetchPolicy:t,pollInterval:n}}=this;if(!n||!this.hasObservers()||t==="cache-only"){this.cancelPolling();return}if((e==null?void 0:e.interval)===n)return;const i=e||(this.pollingInfo={});i.interval=n;const s=()=>{var a,c;this.pollingInfo&&(!br(this.networkStatus)&&!((c=(a=this.options).skipPollAttempt)!=null&&c.call(a))?this._reobserve({fetchPolicy:this.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},{newNetworkStatus:x.poll}).then(o,o):o())},o=()=>{const a=this.pollingInfo;a&&(clearTimeout(a.timeout),a.timeout=setTimeout(s,a.interval))};o()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(e){return this._reobserve(e)}_reobserve(e,t){this.isTornDown=!1;let{newNetworkStatus:n}=t||{};this.queryManager.obsQueries.add(this);const i=n===x.refetch||n===x.poll,s=this.variables,o=this.options.fetchPolicy,a=Q(this.options,e||{}),c=i?a:qn(this.options,a),u=this.transformDocument(c.query);this.lastQuery=u,e&&"variables"in e&&(c.variables=this.getVariablesWithDefaults(e.variables)),i||(this.updatePolling(),e&&e.variables&&!I(e.variables,s)&&c.fetchPolicy!=="standby"&&(c.fetchPolicy===o||typeof c.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",c),n===void 0&&(n=x.setVariables)));const l=this.networkStatus;n||(n=x.loading,l!==x.loading&&(e!=null&&e.variables)&&!I(e.variables,s)&&(n=x.setVariables),c.fetchPolicy==="standby"&&(n=x.ready)),c.fetchPolicy==="standby"&&this.cancelPolling(),this.resubscribeCache();const{promise:f,operator:h}=Wc(v=>{switch(v.kind){case"E":throw v.error;case"N":if(v.source!=="newNetworkStatus"&&!v.value.loading)return v.value}},c.fetchPolicy==="standby"?{data:void 0}:void 0),{subscription:d,observable:m,fromLink:b}=this.fetch(c,n,u,h);!i&&(b||!this.linkSubscription)&&(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=d);const y=Object.assign(Xa(f.then(v=>dt(this.maskResult(v))).finally(()=>{!this.hasObservers()&&this.activeOperations.size===0&&this.tearDownQuery()})),{retain:()=>{const v=m.subscribe({}),E=()=>v.unsubscribe();return f.then(E,E),y}});return y}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){var e;this.isTornDown||(this.resetNotifications(),(e=this.unsubscribeFromCache)==null||e.call(this),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(e){return this.queryManager.transform(e)}maskResult(e){const t=this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,cause:this});return t===e.data?e:{...e,data:t}}resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(e=!1){if(!e){const n=this.queryManager.getDocumentInfo(this.query);if(n.hasClientExports||n.hasForcedResolvers)return}const{dirty:t}=this;if(this.resetNotifications(),t&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!this.activeOperations.size)){const n=this.getCacheDiff();I(n.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:n.result,dataState:n.complete?"complete":n.result?"partial":"empty",networkStatus:x.ready,loading:!1,error:void 0,partial:!n.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}pushOperation(e){let t=!1;const{query:n,variables:i}=this,s=()=>{this.activeOperations.delete(o)},o={override:e,abort:()=>{t=!0,s()},query:n,variables:i};return this.activeOperations.add(o),{finalize:s,pushNotification:(a,c)=>{t||this.input.next({...a,query:n,variables:i,meta:{...c}})}}}calculateNetworkStatus(e){if(e===x.streaming)return e;const t=Array.from(this.activeOperations.values()).findLast(n=>Le(n,this)&&n.override!==void 0);return(t==null?void 0:t.override)??e}abortActiveOperations(){this.activeOperations.forEach(e=>e.abort())}reset(){const e=this.options.fetchPolicy==="cache-only";this.setResult(e?Kt:me,{shouldEmit:e?1:2}),this.abortActiveOperations()}setResult(e,t){this.input.next({source:"setResult",kind:"N",value:e,query:this.query,variables:this.variables,meta:{...t}})}reobserveCacheFirst(){const{fetchPolicy:e,nextFetchPolicy:t}=this.options;e==="cache-and-network"||e==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(n,i){return this.nextFetchPolicy=t,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(n,i):e}}):this.reobserve()}getVariablesWithDefaults(e){return this.queryManager.getVariables(this.query,e)}}function Le(r,e){return!!(r&&e&&r.query===e.query&&I(r.variables,e.variables))}function Wc(r,e){let t=e,n,i;const s=new Promise((a,c)=>{n=a,i=c}),o=kt({next(a){try{const c=r(a);c!==void 0&&(t=c)}catch(c){i(c)}},finalize:()=>{if(t)n(t);else{const a="The operation was aborted.",c="AbortError";i(typeof DOMException<"u"?new DOMException(a,c):Object.assign(new Error(a),{name:c}))}}});return{promise:s,operator:o}}const Bn={},be=new WeakMap;function Zt(r,e){const t=r[e];typeof t=="function"&&(r[e]=function(){return be.set(r,(be.get(r)+1)%1e15),t.apply(this,arguments)})}const Un=new WeakMap;class er{constructor(e,t){p(this,"lastRequestId",1);p(this,"cache");p(this,"queryManager");p(this,"id");p(this,"observableQuery");p(this,"incremental");p(this,"_lastWrite");const n=this.cache=e.cache,i=(Un.get(e)||0)+1;Un.set(e,i),this.id=i+"",this.observableQuery=t,this.queryManager=e,be.has(n)||(be.set(n,0),Zt(n,"evict"),Zt(n,"modify"),Zt(n,"reset"))}get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(e){(this.observableQuery||this)._lastWrite=e}resetLastWrite(){this.lastWrite=void 0}shouldWrite(e,t){const{lastWrite:n}=this;return!(n&&n.dmCount===be.get(this.cache)&&I(t,n.variables)&&I(e.data,n.result.data))}get hasNext(){return this.incremental?this.incremental.hasNext:!1}maybeHandleIncrementalResult(e,t,n){const{incrementalHandler:i}=this.queryManager;return i.isIncrementalResult(t)?(this.incremental||(this.incremental=i.startRequest({query:n})),this.incremental.handle(e,t)):t}markQueryResult(e,{document:t,variables:n,errorPolicy:i,cacheWriteBehavior:s}){var l;const o={query:t,variables:n,returnPartialData:!0,optimistic:!0};(l=this.observableQuery)==null||l.resetNotifications();const a=s===0,c=a?void 0:this.cache.diff(o);let u=this.maybeHandleIncrementalResult(c==null?void 0:c.result,e,t);return a||(tr(u,i)?this.cache.batch({onWatchUpdated:(f,h)=>{f.watcher===this.observableQuery&&(f.lastOwnDiff=h)},update:f=>{if(this.shouldWrite(u,n))f.writeQuery({query:t,data:u.data,variables:n,overwrite:s===1}),this.lastWrite={result:u,variables:n,dmCount:be.get(this.cache)};else if(c&&c.complete){u={...u,data:c.result};return}const h=f.diff(o);h.complete&&(u={...u,data:h.result})}}):this.lastWrite=void 0),u}markMutationResult(e,t,n=this.cache){const i=[],s=t.cacheWriteBehavior===0;let o=this.maybeHandleIncrementalResult(s?void 0:n.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}).result,e,t.document);if(t.errorPolicy==="ignore"&&(o={...o,errors:[]}),ge(o)&&t.errorPolicy==="none")return Promise.resolve(o);const a=()=>({...o,dataState:this.hasNext?"streaming":"complete"});if(!s&&tr(o,t.errorPolicy)){i.push({result:o.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables});const{updateQueries:u}=t;u&&this.queryManager.getObservableQueries("all").forEach(l=>{const f=l&&l.queryName;if(!f||!Object.hasOwnProperty.call(u,f))return;const h=u[f],{query:d,variables:m}=l,{result:b,complete:y}=l.getCacheDiff({optimistic:!1});if(y&&b){const v=h(b,{mutationResult:a(),queryName:d&&_e(d)||void 0,queryVariables:m});v&&i.push({result:v,dataId:"ROOT_QUERY",query:d,variables:m})}})}let c=t.refetchQueries;if(typeof c=="function"&&(c=c(a())),i.length>0||(c||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){const u=[];if(this.queryManager.refetchQueries({updateCache:l=>{s||i.forEach(h=>l.write(h));const{update:f}=t;if(f){if(!s){const h=l.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});h.complete&&(o={...o,data:h.result})}this.hasNext||f(l,o,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&!this.hasNext&&l.modify({id:"ROOT_MUTATION",fields(h,{fieldName:d,DELETE:m}){return d==="__typename"?h:m}})},include:c,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(l=>u.push(l)),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(u).then(()=>o)}return Promise.resolve(o)}markMutationOptimistic(e,t){const n=typeof e=="function"?e(t.variables,{IGNORE:Bn}):e;return n===Bn?!1:(this.cache.recordOptimisticTransaction(i=>{try{this.markMutationResult({data:n},t,i)}catch(s){C.error(s)}},this.id),!0)}markSubscriptionResult(e,{document:t,variables:n,errorPolicy:i,cacheWriteBehavior:s}){s!==0&&(tr(e,i)&&this.cache.write({query:t,result:e.data,dataId:"ROOT_SUBSCRIPTION",variables:n}),this.queryManager.broadcastQueries())}}function tr(r,e="none"){const t=e==="ignore"||e==="all";let n=!ge(r);return!n&&t&&r.data&&(n=!0),n}class zc{constructor(e){p(this,"defaultOptions");p(this,"client");p(this,"clientOptions");p(this,"assumeImmutableResults");p(this,"documentTransform");p(this,"ssrMode");p(this,"defaultContext");p(this,"dataMasking");p(this,"incrementalHandler");p(this,"localState");p(this,"queryDeduplication");p(this,"prioritizeCacheValues",!1);p(this,"onBroadcast");p(this,"mutationStore");p(this,"obsQueries",new Set);p(this,"fetchCancelFns",new Map);p(this,"transformCache",new Bi(te["queryManager.getDocumentInfo"]||2e3));p(this,"requestIdCounter",1);p(this,"inFlightLinkObservables",new ce(!1));p(this,"noCacheWarningsByCause",new WeakSet);const t=new ee(i=>this.cache.transformDocument(i),{cache:!1});this.client=e.client,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientOptions=e.clientOptions,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking,this.localState=e.localState,this.incrementalHandler=e.incrementalHandler;const n=e.documentTransform;this.documentTransform=n?t.concat(n).concat(t):t,this.defaultContext=e.defaultContext||{},(this.onBroadcast=e.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(e=>e.stop()),this.cancelPendingFetches($(83))}cancelPendingFetches(e){this.fetchCancelFns.forEach(t=>t(e)),this.fetchCancelFns.clear()}async mutate({mutation:e,variables:t,optimisticResponse:n,updateQueries:i,refetchQueries:s=[],awaitRefetchQueries:o=!1,update:a,onQueryUpdated:c,fetchPolicy:u,errorPolicy:l,keepRootFields:f,context:h}){const d=new er(this);e=this.cache.transformForLink(this.transform(e));const{hasClientExports:m}=this.getDocumentInfo(e);t=this.getVariables(e,t),m&&(t=await this.localState.getExportedVariables({client:this.client,document:e,variables:t,context:h}));const b=this.mutationStore&&(this.mutationStore[d.id]={mutation:e,variables:t,loading:!0,error:null}),y=n&&d.markMutationOptimistic(n,{document:e,variables:t,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:l,context:h,updateQueries:i,update:a,keepRootFields:f});return this.broadcastQueries(),new Promise((v,E)=>{const w={};return this.getObservableFromLink(e,{...h,optimisticResponse:y?n:void 0},t,{},!1).observable.pipe(Wn(),ye(O=>{const T={...O};return le(d.markMutationResult(T,{document:e,variables:t,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:l,context:h,update:a,updateQueries:i,awaitRefetchQueries:o,refetchQueries:s,removeOptimistic:y?d.id:void 0,onQueryUpdated:c,keepRootFields:f}))})).pipe(he(O=>{if(ge(O)&&l==="none")throw new fe(O);return b&&(b.loading=!1,b.error=null),O})).subscribe({next:O=>{if(this.broadcastQueries(),!d.hasNext){const T={data:this.maskOperation({document:e,data:O.data,fetchPolicy:u,cause:w})};ge(O)&&(T.error=new fe(O)),Object.keys(O.extensions||{}).length&&(T.extensions=O.extensions),v(T)}},error:O=>{if(b&&(b.loading=!1,b.error=O),y&&this.cache.removeOptimistic(d.id),this.broadcastQueries(),l==="ignore")return v({data:void 0});if(l==="all")return v({data:void 0,error:O});E(O)}})})}fetchQuery(e,t){return ne(e.query,J.QUERY),(async()=>oa(this.fetchObservableWithInfo(e,{networkStatus:t}).observable.pipe(fr(n=>{switch(n.kind){case"E":throw n.error;case"N":if(n.source!=="newNetworkStatus")return dt(n.value)}})),{defaultValue:{data:void 0}}))()}transform(e){return this.documentTransform.transformDocument(e)}getDocumentInfo(e){const{transformCache:t}=this;if(!t.has(e)){const i=re(e),s={hasClientExports:Be(["client","export"],e,!0),hasForcedResolvers:Ya(e),hasNonreactiveDirective:Be(["nonreactive"],e),hasIncrementalDirective:Be(["defer"],e),nonReactiveQuery:Qc(e),clientQuery:Be(["client"],e)?e:null,serverQuery:Za([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),operationType:i==null?void 0:i.operation,defaultVars:Mr(i),asQuery:{...e,definitions:e.definitions.map(o=>o.kind==="OperationDefinition"&&o.operation!=="query"?{...o,operation:"query"}:o)}};t.set(e,s)}const n=t.get(e);if(n.violation)throw n.violation;return n}getVariables(e,t){const n=this.getDocumentInfo(e).defaultVars,i=Object.entries(t??{}).map(([s,o])=>[s,o===void 0?n[s]:o]);return{...n,...Object.fromEntries(i)}}watchQuery(e){ne(e.query,J.QUERY);const t=this.transform(e.query);return e={...e,variables:this.getVariables(t,e.variables)},typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!0),new Xt({queryManager:this,options:e,transformedQuery:t})}query(e){const t=this.transform(e.query);return this.fetchQuery({...e,query:t}).then(n=>({...n,data:this.maskOperation({document:t,data:n==null?void 0:n.data,fetchPolicy:e.fetchPolicy})}))}generateRequestId(){return this.requestIdCounter++}clearStore(e={discardWatches:!0}){return this.cancelPendingFetches($(85)),this.obsQueries.forEach(t=>{t.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(e)}getObservableQueries(e="active"){const t=new Set,n=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(o=>{if(typeof o=="string")n.set(o,o),i.set(o,!1);else if(Ja(o)){const a=ke(this.transform(o));n.set(a,_e(o)),i.set(a,!1)}else W(o)&&o.query&&s.add(o)}),this.obsQueries.forEach(o=>{const a=ke(this.transform(o.options.query));if(e==="all"){t.add(o);return}const{queryName:c,options:{fetchPolicy:u}}=o;e==="active"&&u==="standby"||(e==="active"||c&&i.has(c)||a&&i.has(a))&&(t.add(o),c&&i.set(c,!0),a&&i.set(a,!0))}),s.size&&s.forEach(o=>{const a=new Xt({queryManager:this,options:{...o,fetchPolicy:"network-only"}});t.add(a)}),t}refetchObservableQueries(e=!1){const t=[];return this.getObservableQueries(e?"all":"active").forEach(n=>{const{fetchPolicy:i}=n.options;(e||i!=="standby")&&i!=="cache-only"&&t.push(n.refetch())}),this.broadcastQueries(),Promise.all(t)}startGraphQLSubscription(e){let{query:t,variables:n}=e;const{fetchPolicy:i,errorPolicy:s="none",context:o={},extensions:a={}}=e;ne(t,J.SUBSCRIPTION),t=this.transform(t),n=this.getVariables(t,n);let c;const u=(this.getDocumentInfo(t).hasClientExports?le(this.localState.getExportedVariables({client:this.client,document:t,variables:n,context:o})):ue(n)).pipe(ye(l=>{const{observable:f,restart:h}=this.getObservableFromLink(t,o,l,a),d=new er(this);return c=h,f.pipe(he(m=>{d.markSubscriptionResult(m,{document:t,variables:l,errorPolicy:s,cacheWriteBehavior:i==="no-cache"?0:2});const b={data:m.data??void 0};return ge(m)?b.error=new fe(m):qc(m)&&(b.error=m.extensions[Ot],delete m.extensions[Ot]),m.extensions&&Object.keys(m.extensions).length&&(b.extensions=m.extensions),b.error&&s==="none"&&(b.data=void 0),s==="ignore"&&delete b.error,b}),ft(m=>ue(s==="ignore"?{data:void 0}:{data:void 0,error:m})),la(m=>!!(m.data||m.error)))}));return Object.assign(u,{restart:()=>c==null?void 0:c()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(e=>e.notify())}getObservableFromLink(e,t,n,i,s=(t==null?void 0:t.queryDeduplication)??this.queryDeduplication){let o={};const{serverQuery:a,clientQuery:c,operationType:u,hasIncrementalDirective:l}=this.getDocumentInfo(e),f=_e(e),h={client:this.client};if(a){const{inFlightLinkObservables:d,link:m}=this;try{let y=function(v){return new R(E=>{function w(){return v.subscribe({next:E.next.bind(E),complete:E.complete.bind(E),error:E.error.bind(E)})}let O=w();return o.restart||(o.restart=()=>{O.unsubscribe(),O=w()}),()=>{O.unsubscribe(),o.restart=void 0}})};const b=this.incrementalHandler.prepareRequest({query:a,variables:n,context:{...this.defaultContext,...t,queryDeduplication:s},extensions:i});if(t=b.context,s){const v=ke(a),E=ie(n);o=d.lookup(v,E),o.observable||(o.observable=pr(m,b,h).pipe(y,fa(()=>{d.peek(v,E)===o&&d.remove(v,E)}),u===J.SUBSCRIPTION?Et():da({refCount:!0})))}else o.observable=pr(m,b,h).pipe(y)}catch(b){o.observable=Si(()=>b)}}else o.observable=ue({data:{}});if(c){const{operation:d}=re(e);C(!l,90,d[0].toUpperCase()+d.slice(1),f??"(anonymous)"),o.observable=o.observable.pipe(ye(m=>le(this.localState.execute({client:this.client,document:c,remoteResult:m,context:t,variables:n}))))}return{restart:()=>{var d;return(d=o.restart)==null?void 0:d.call(o)},observable:o.observable.pipe(ft(d=>{throw d=Bc(d),Vc(d),d}))}}getResultsFromLink(e,{queryInfo:t,cacheWriteBehavior:n,observableQuery:i}){const s=t.lastRequestId=this.generateRequestId(),{errorPolicy:o}=e,a=this.cache.transformForLink(e.query);return this.getObservableFromLink(a,e.context,e.variables).observable.pipe(he(c=>{const u=t.markQueryResult(c,{...e,document:a,cacheWriteBehavior:n}),l=ge(u);if(l&&o==="none")throw t.resetLastWrite(),i==null||i.resetNotifications(),new fe(u);const f={data:u.data,...t.hasNext?{loading:!0,networkStatus:x.streaming,dataState:"streaming",partial:!0}:{dataState:u.data?"complete":"empty",loading:!1,networkStatus:x.ready,partial:!u.data}};return l&&(o==="none"&&(f.data=void 0,f.dataState="empty"),o!=="ignore"&&(f.error=new fe(u),f.dataState!=="streaming"&&(f.networkStatus=x.error))),f}),ft(c=>{if(s>=t.lastRequestId&&o==="none")throw t.resetLastWrite(),i==null||i.resetNotifications(),c;const u={data:void 0,dataState:"empty",loading:!1,networkStatus:x.ready,partial:!0};return o!=="ignore"&&(u.error=c,u.networkStatus=x.error),ue(u)}))}fetchObservableWithInfo(e,{networkStatus:t=x.loading,query:n=e.query,fetchQueryOperator:i=a=>a,onCacheHit:s=()=>{},observableQuery:o}){const a=this.getVariables(n,e.variables),c=this.defaultOptions.watchQuery;let{fetchPolicy:u=c&&c.fetchPolicy||"cache-first",errorPolicy:l=c&&c.errorPolicy||"none",returnPartialData:f=!1,notifyOnNetworkStatusChange:h=!0,context:d={}}=e;this.prioritizeCacheValues&&(u==="network-only"||u==="cache-and-network")&&(u="cache-first");const m=Object.assign({},e,{query:n,variables:a,fetchPolicy:u,errorPolicy:l,returnPartialData:f,notifyOnNetworkStatusChange:h,context:d}),b=new er(this,o),y=T=>{m.variables=T;const U=u==="no-cache"?0:t===x.refetch&&m.refetchWritePolicy!=="merge"?1:2,q=this.fetchQueryByPolicy(m,{queryInfo:b,cacheWriteBehavior:U,onCacheHit:s,observableQuery:o});return q.observable=q.observable.pipe(i),m.fetchPolicy!=="standby"&&(o==null||o.applyNextFetchPolicy("after-fetch",e)),q},v=()=>{this.fetchCancelFns.delete(b.id)};this.fetchCancelFns.set(b.id,T=>{E.next({kind:"E",error:T,source:"network"})});const E=new Fe;let w,O;if(this.getDocumentInfo(m.query).hasClientExports)w=le(this.localState.getExportedVariables({client:this.client,document:m.query,variables:m.variables,context:m.context})).pipe(ye(T=>y(T).observable)),O=!0;else{const T=y(m.variables);O=T.fromLink,w=T.observable}return{observable:new R(T=>{T.add(v),w.subscribe(T),E.subscribe(T)}).pipe(Et()),fromLink:O}}refetchQueries({updateCache:e,include:t,optimistic:n=!1,removeOptimistic:i=n?wi("refetchQueries"):void 0,onQueryUpdated:s}){const o=new Map;t&&this.getObservableQueries(t).forEach(c=>{if(c.options.fetchPolicy==="cache-only")return;const u=c.getCurrentResult();o.set(c,{oq:c,lastDiff:{result:u==null?void 0:u.data,complete:!(u!=null&&u.partial)}})});const a=new Map;if(e){const c=new Set;this.cache.batch({update:e,optimistic:n&&i||!1,removeOptimistic:i,onWatchUpdated(u,l,f){const h=u.watcher;if(h instanceof Xt&&!c.has(h)){if(c.add(h),s){o.delete(h);let d=s(h,l,f);return d===!0&&(d=h.refetch().retain()),d!==!1&&a.set(h,d),d}s!==null&&h.options.fetchPolicy!=="cache-only"&&o.set(h,{oq:h,lastDiff:f,diff:l})}}})}return o.size&&o.forEach(({oq:c,lastDiff:u,diff:l})=>{let f;s&&(l||(l=c.getCacheDiff()),f=s(c,l,u)),(!s||f===!0)&&(f=c.refetch().retain()),f!==!1&&a.set(c,f)}),i&&this.cache.removeOptimistic(i),a}maskOperation(e){const{document:t,data:n}=e;return this.dataMasking?Cc(n,t,this.cache):n}maskFragment(e){const{data:t,fragment:n,fragmentName:i}=e;return this.dataMasking?xc(t,n,this.cache,i):t}fetchQueryByPolicy({query:e,variables:t,fetchPolicy:n,errorPolicy:i,returnPartialData:s,context:o},{cacheWriteBehavior:a,onCacheHit:c,queryInfo:u,observableQuery:l}){const f=()=>this.cache.diff({query:e,variables:t,returnPartialData:!0,optimistic:!0}),h=(m,b)=>{const y=m.result,v=w=>(!m.complete&&!s&&(w=void 0),{data:w,dataState:m.complete?"complete":w?"partial":"empty",loading:br(b),networkStatus:b,partial:!m.complete}),E=w=>ue({kind:"N",value:v(w),source:"cache"});return(m.complete||s)&&this.getDocumentInfo(e).hasForcedResolvers?(c(),le(this.localState.execute({client:this.client,document:e,remoteResult:y?{data:y}:void 0,context:o,variables:t,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(w=>({kind:"N",value:v(w.data||void 0),source:"cache"})))):i==="none"&&b===x.refetch&&m.missing?E(void 0):E(y||void 0)},d=()=>this.getResultsFromLink({query:e,variables:t,context:o,fetchPolicy:n,errorPolicy:i},{cacheWriteBehavior:a,queryInfo:u,observableQuery:l}).pipe(Wn(),ha(),he(m=>({...m,source:"network"})));switch(n){default:case"cache-first":{const m=f();return m.complete?{fromLink:!1,observable:h(m,x.ready)}:s?{fromLink:!0,observable:Ut(h(m,x.loading),d())}:{fromLink:!0,observable:d()}}case"cache-and-network":{const m=f();return m.complete||s?{fromLink:!0,observable:Ut(h(m,x.loading),d())}:{fromLink:!0,observable:d()}}case"cache-only":return{fromLink:!1,observable:Ut(h(f(),x.ready))};case"network-only":return{fromLink:!0,observable:d()};case"no-cache":return{fromLink:!0,observable:d()};case"standby":return{fromLink:!1,observable:bt}}}}function Wn(){let r=!1;return kt({next(){r=!0},complete(){C(r,94)}})}function Qc(r){return X(r,{FragmentSpread:e=>{var t;if(!((t=e.directives)!=null&&t.some(n=>n.name.value==="unmask")))return{...e,directives:[...e.directives||[],{kind:k.DIRECTIVE,name:{kind:k.NAME,value:"nonreactive"}}]}}})}class $c{constructor(e){p(this,"link");p(this,"cache");p(this,"disableNetworkFetches");p(this,"version");p(this,"queryDeduplication");p(this,"defaultOptions");p(this,"devtoolsConfig");p(this,"queryManager");p(this,"devToolsHookCb");p(this,"resetStoreCallbacks",[]);p(this,"clearStoreCallbacks",[]);p(this,"reFetchObservableQueries");p(this,"maskedFragmentTransform",new ee(rc));p(this,"getMemoryInternals");const{cache:t,documentTransform:n,ssrMode:i=!1,ssrForceFetchDelay:s=0,queryDeduplication:o=!0,defaultOptions:a,defaultContext:c,assumeImmutableResults:u=t.assumeImmutableResults,localState:l,devtools:f,dataMasking:h,link:d,incrementalHandler:m=new fc}=e;this.link=d,this.cache=t,this.queryDeduplication=o,this.defaultOptions=a||{},this.devtoolsConfig={...f,enabled:(f==null?void 0:f.enabled)??pa},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=Nr,this.queryManager=new zc({client:this,defaultOptions:this.defaultOptions,defaultContext:c,documentTransform:n,queryDeduplication:o,ssrMode:i,dataMasking:!!h,clientOptions:e,incrementalHandler:m,assumeImmutableResults:u,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:l}),this.prioritizeCacheValues=i||s>0,s&&setTimeout(()=>{this.prioritizeCacheValues=!1},s),this.devtoolsConfig.enabled&&this.connectToDevTools()}set prioritizeCacheValues(e){this.queryManager.prioritizeCacheValues=e}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}connectToDevTools(){if(typeof window>"u")return;const e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(e){this.queryManager.localState=e}stop(){this.queryManager.stop()}watchQuery(e){return this.defaultOptions.watchQuery&&(e=ht(this.defaultOptions.watchQuery,e)),this.queryManager.watchQuery(e)}query(e){return this.defaultOptions.query&&(e=ht(this.defaultOptions.query,e)),this.queryManager.query(e)}mutate(e){const t=ht(Q({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),e);return ne(t.mutation,J.MUTATION),this.queryManager.mutate(t)}subscribe(e){const t={},n=this.queryManager.startGraphQLSubscription(e),i=n.pipe(he(s=>({...s,data:this.queryManager.maskOperation({document:e.query,data:s.data,fetchPolicy:e.fetchPolicy,cause:t})})));return Object.assign(i,{restart:n.restart})}readQuery(e,t=!1){return this.cache.readQuery({...e,query:this.transform(e.query)},t)}watchFragment(e){const t=this.queryManager.dataMasking;return this.cache.watchFragment({...e,fragment:this.transform(e.fragment,t)}).pipe(he(n=>n))}readFragment(e,t=!1){return this.cache.readFragment({...e,fragment:this.transform(e.fragment)},t)}writeQuery(e){const t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}writeFragment(e){const t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}__actionHookForDevTools(e){this.devToolsHookCb=e}__requestRaw(e){return pr(this.link,e,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(e=>e()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(e=>e())))}onResetStore(e){return this.resetStoreCallbacks.push(e),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(t=>t!==e)}}onClearStore(e){return this.clearStoreCallbacks.push(e),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(t=>t!==e)}}refetchObservableQueries(e){return this.queryManager.refetchObservableQueries(e)}refetchQueries(e){const t=this.queryManager.refetchQueries(e),n=[],i=[];t.forEach((o,a)=>{n.push(a),i.push(o)});const s=Promise.all(i);return s.queries=n,s.results=i,s.catch(o=>{}),s}getObservableQueries(e="active"){return this.queryManager.getObservableQueries(e)}extract(e){return this.cache.extract(e)}restore(e){return this.cache.restore(e)}setLink(e){this.link=e}get defaultContext(){return this.queryManager.defaultContext}transform(e,t=!1){const n=this.queryManager.transform(e);return t?this.maskedFragmentTransform.transformDocument(n):n}}const{hasOwnProperty:zn}=Object.prototype;function Gc(r){return W(r)&&"payload"in r}async function*Hc(r){var h;const e=new TextDecoder("utf-8"),t=(h=r.headers)==null?void 0:h.get("content-type"),n=t==null?void 0:t.match(/;\s*boundary=(?:'([^']+)'|"([^"]+)"|([^"'].+?))\s*(?:;|$)/i),i=`\r
--`+((n==null?void 0:n.findLast(d=>!!d))||"-");let s="";C(r.body&&typeof r.body.getReader=="function",60);const a=r.body.getReader();let c=!1,u=!1,l;const f=()=>u&&s[0]=="-"&&s[1]=="-";try{for(;!c;){({value:l,done:c}=await a.read());const d=typeof l=="string"?l:e.decode(l),m=s.length-i.length+1;s+=d;let b=s.indexOf(i,m);for(;b>-1&&!f();){u=!0;let y;[y,s]=[s.slice(0,b),s.slice(b+i.length)];const v=y.indexOf(`\r
\r
`),w=Jc(y.slice(0,v))["content-type"];if(w&&w.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");const O=y.slice(v);O&&(yield O),b=s.indexOf(i)}if(f())return}throw new Error("premature end of multipart body")}finally{a.cancel()}}async function Yc(r,e){for await(const t of Hc(r)){const n=ss(r,t);if(Object.keys(n).length!=0)if(Gc(n)){if(Object.keys(n).length===1&&n.payload===null)return;let i={...n.payload};"errors"in n&&(i.extensions={...i.extensions,[Ot]:new wt(n.errors??[])}),e(i)}else e(n)}}function Jc(r){const e={};return r.split(`
`).forEach(t=>{const n=t.indexOf(":");if(n>-1){const i=t.slice(0,n).trim().toLowerCase(),s=t.slice(n+1).trim();e[i]=s}}),e}function ss(r,e){if(r.status>=300)throw new Pt(`Response not successful: Received status code ${r.status}`,{response:r,bodyText:e});try{return JSON.parse(e)}catch(t){throw new Mt(t,{response:r,bodyText:e})}}function Kc(r,e){try{return JSON.parse(e)}catch(t){throw new Mt(t,{response:r,bodyText:e})}}function Xc(r,e){const t=r.headers.get("content-type");return t!=null&&t.includes("application/graphql-response+json")?Kc(r,e):ss(r,e)}function Zc(r){return e=>e.text().then(t=>{const n=Xc(e,t);if(!Array.isArray(n)&&!zn.call(n,"data")&&!zn.call(n,"errors"))throw new Pt(`Server response was malformed for query '${Array.isArray(r)?r.map(i=>i.operationName):r.operationName}'.`,{response:e,bodyText:t});return n})}const eu={includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},tu={accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},ru={method:"POST"},nu={http:eu,headers:tu,options:ru},iu=(r,e)=>e(r);function su(r,e,...t){let n={},i={};t.forEach(l=>{var f;n={...n,...l.options,headers:{...n.headers,...l.headers}},l.credentials&&(n.credentials=l.credentials),n.headers.accept=(((f=l.http)==null?void 0:f.accept)||[]).concat(n.headers.accept).join(","),i={...i,...l.http}}),n.headers=ou(n.headers,i.preserveHeaderCase);const{operationName:s,extensions:o,variables:a,query:c}=r,u={operationName:s,variables:a};return i.includeExtensions&&Object.keys(o||{}).length&&(u.extensions=o),i.includeQuery&&(u.query=e(c,ke)),{options:n,body:u}}function ou(r,e){if(!e){const i={};return Object.keys(Object(r)).forEach(s=>{i[s.toLowerCase()]=r[s]}),i}const t={};Object.keys(Object(r)).forEach(i=>{t[i.toLowerCase()]={originalName:i,value:r[i]}});const n={};return Object.keys(t).forEach(i=>{n[t[i].originalName]=t[i].value}),n}const au=(r,e)=>{const n=r.getContext().uri;return n||(typeof e=="function"?e(r):e||"/graphql")};function cu(r,e){const t=[],n=(u,l)=>{t.push(`${u}=${encodeURIComponent(l)}`)};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){let u;try{u=JSON.stringify(e.variables)}catch(l){return{parseError:l}}n("variables",u)}if(e.extensions){let u;try{u=JSON.stringify(e.extensions)}catch(l){return{parseError:l}}n("extensions",u)}let i="",s=r;const o=r.indexOf("#");o!==-1&&(i=r.substr(o),s=r.substr(0,o));const a=s.indexOf("?")===-1?"?":"&";return{newURI:s+a+t.join("&")+i}}const uu=Y(()=>fetch);function lu(){}class fu extends z{constructor(e={}){let{uri:t="/graphql",fetch:n,print:i=iu,includeExtensions:s,preserveHeaderCase:o,useGETForQueries:a,includeUnusedVariables:c=!1,...u}=e;const l={http:Q({includeExtensions:s,preserveHeaderCase:o}),options:u.fetchOptions,credentials:u.credentials,headers:u.headers};super(f=>{let h=au(f,t);const d=f.getContext(),m={...d.http};yc(f.query)&&(m.accept=["multipart/mixed;boundary=graphql;subscriptionSpec=1.0",...m.accept||[]]);const b={http:m,options:d.fetchOptions,credentials:d.credentials,headers:d.headers},{options:y,body:v}=su(f,i,nu,l,b);v.variables&&!c&&(v.variables=dc(v.variables,f.query));let E=new AbortController,w=()=>{E=void 0};if(y.signal){const O=y.signal,T=()=>{E==null||E.abort(O.reason)};O.addEventListener("abort",T,{once:!0}),w=()=>{E==null||E.signal.removeEventListener("abort",w),E=void 0,O.removeEventListener("abort",T),w=lu},E.signal.addEventListener("abort",w,{once:!0})}return y.signal=E.signal,a&&!mc(f.query)&&(y.method="GET"),new R(O=>{if(y.method==="GET"){const{newURI:q,parseError:Pe}=cu(h,v);if(Pe)throw Pe;h=q}else y.body=JSON.stringify(v);const T=n||Y(()=>fetch)||uu,U=O.next.bind(O);return T(h,y).then(q=>{var Qr;f.setContext({response:q});const Pe=(Qr=q.headers)==null?void 0:Qr.get("content-type");return Pe!==null&&/^multipart\/mixed/i.test(Pe)?Yc(q,U):Zc(f)(q).then(U)}).then(()=>{w(),O.complete()}).catch(q=>{w(),O.error(q)}),()=>{E&&E.abort()}})})}}class hu extends z{constructor(e={}){super((t,n)=>{const i=t.client,s=i.queryManager.clientOptions,o=t.getContext();{const{name:a,version:c,transport:u="headers"}=Q({},s.clientAwareness,e.clientAwareness,o.clientAwareness);u==="headers"&&t.setContext(({headers:l,extensions:f})=>({headers:Q({"apollographql-client-name":a,"apollographql-client-version":c},l)}))}{const{transport:a="extensions"}=Q({},s.enhancedClientAwareness,e.enhancedClientAwareness);a==="extensions"&&(t.extensions=Q({clientLibrary:{name:"@apollo/client",version:i.version}},t.extensions))}return n(t)})}}class du extends z{constructor(e={}){const{left:t,right:n,request:i}=z.from([new hu(e),new fu(e)]);super(i),Object.assign(this,{left:t,right:n})}}var yt=new Map,Er=new Map,os=!0,Tt=!1;function as(r){return r.replace(/[\s,]+/g," ").trim()}function pu(r){return as(r.source.body.substring(r.start,r.end))}function mu(r){var e=new Set,t=[];return r.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,s=pu(n.loc),o=Er.get(i);o&&!o.has(s)?os&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||Er.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),t.push(n))}else t.push(n)}),$r($r({},r),{definitions:t})}function yu(r){var e=new Set(r.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var s=n[i];s&&typeof s=="object"&&e.add(s)})});var t=r.loc;return t&&(delete t.startToken,delete t.endToken),r}function gu(r){var e=as(r);if(!yt.has(e)){var t=lo(r,{experimentalFragmentVariables:Tt,allowLegacyFragmentVariables:Tt});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");yt.set(e,yu(mu(t)))}return yt.get(e)}function Ae(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof r=="string"&&(r=[r]);var n=r[0];return e.forEach(function(i,s){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=r[s+1]}),gu(n)}function vu(){yt.clear(),Er.clear()}function bu(){os=!1}function Eu(){Tt=!0}function ku(){Tt=!1}var je={gql:Ae,resetCaches:vu,disableFragmentWarnings:bu,enableExperimentalFragmentVariables:Eu,disableExperimentalFragmentVariables:ku};(function(r){r.gql=je.gql,r.resetCaches=je.resetCaches,r.disableFragmentWarnings=je.disableFragmentWarnings,r.enableExperimentalFragmentVariables=je.enableExperimentalFragmentVariables,r.disableExperimentalFragmentVariables=je.disableExperimentalFragmentVariables})(Ae||(Ae={}));Ae.default=Ae;const Qn=Symbol.for("__APOLLO_CONTEXT__");function Wr(){C("createContext"in Hn,37);let r=V.createContext[Qn];return r||(Object.defineProperty(V.createContext,Qn,{value:r=V.createContext({}),enumerable:!1,writable:!1,configurable:!0}),r.displayName="ApolloContext"),r}const Su=({client:r,children:e})=>{const t=Wr(),n=V.useContext(t),i=V.useMemo(()=>({...n,client:r||n.client}),[n,r]);return C(i.client,38),V.createElement(t.Provider,{value:i},e)};function cs(r){const e=V.useContext(Wr()),t=r||e.client;return C(!!t,28),t}const wu=Symbol.for("apollo.hook.wrappers");function Ou(r,e,t){var s;const n=[t.queryManager,r.startsWith("use")?V.useContext(Wr()):void 0];let i=e;for(const o of n){const a=(s=o==null?void 0:o[wu])==null?void 0:s[r];a&&(i=a(i))}return i}const Tu="useSyncExternalStore",xu=Hn[Tu],Cu=Y(()=>navigator.product)=="ReactNative",_u=Y(()=>navigator.userAgent.indexOf("jsdom")>=0)||!1,Iu=(ga||Cu)&&!_u,Nu=xu||((r,e,t)=>{const n=e(),[{inst:i},s]=V.useState({inst:{value:n,getSnapshot:e}});return Iu?V.useLayoutEffect(()=>{Object.assign(i,{value:n,getSnapshot:e}),rr(i)&&s({inst:i})},[r,n,e]):Object.assign(i,{value:n,getSnapshot:e}),V.useEffect(()=>(rr(i)&&s({inst:i}),r(function(){rr(i)&&s({inst:i})})),[r]),n});function rr({value:r,getSnapshot:e}){try{return r!==e()}catch{return!0}}const at=Symbol();function zr(r,...[e]){"use no memo";return Ou("useQuery",Au,cs(e&&e.client))(r,e)}function Au(r,e={}){const t=cs(e.client),{skip:n,ssr:i,...s}=e,o=ht(t.defaultOptions.watchQuery,{...s,query:r});n&&(o.initialFetchPolicy=e.initialFetchPolicy||e.fetchPolicy,o.fetchPolicy="standby");function a(b){const y=t.watchQuery(o);return{client:t,query:r,observable:y,resultData:{current:y.getCurrentResult(),previousData:b==null?void 0:b.resultData.current.data,variables:y.variables}}}let[c,u]=V.useState(a);(t!==c.client||r!==c.query)&&u(c=a(c));const{observable:l,resultData:f}=c;Du(o,l),Ru(f,l,o);const h=Fu(l,f,e.ssr),d=V.useMemo(()=>({refetch:l.refetch.bind(l),fetchMore:l.fetchMore.bind(l),updateQuery:l.updateQuery.bind(l),startPolling:l.startPolling.bind(l),stopPolling:l.stopPolling.bind(l),subscribeToMore:l.subscribeToMore.bind(l)}),[l]),m=f.previousData;return V.useMemo(()=>{const{partial:b,...y}=h;return{...y,client:t,observable:l,variables:l.variables,previousData:m,...d}},[h,t,l,m,d])}function Du(r,e){"use no memo";r.fetchPolicy||(r.fetchPolicy=e.options.initialFetchPolicy)}function Fu(r,e,t){"use no memo";return Nu(V.useCallback(n=>{const i=r.pipe(Ir(Uo)).subscribe(s=>{const o=e.current;I(o,s)&&I(e.variables,r.variables)||(e.variables=r.variables,o.data&&!I(o.data,s.data)&&(e.previousData=o.data),e.current=s,n())});return()=>{setTimeout(()=>i.unsubscribe())}},[r,e]),()=>e.current,()=>t===!1?zr.ssrDisabledResult:e.current)}function Ru(r,e,t){"use no memo";if(e[at]&&!I(e[at],t)){Pu(e[at],t)?e.reobserve(t):e.applyOptions(t);const n=e.getCurrentResult();I(n.data,r.current.data)||(r.previousData=r.current.data||r.previousData),r.current=n,r.variables=e.variables}e[at]=t}function Pu(r,e){return r.query!==e.query||!I(r.variables,e.variables)||r.fetchPolicy!==e.fetchPolicy&&(e.fetchPolicy==="standby"||r.fetchPolicy==="standby")}zr.ssrDisabledResult={loading:!0,data:void 0,dataState:"empty",error:void 0,networkStatus:x.loading,partial:!0};const nr=Ts("egg:event-statistics"),Mu=Ae`
  query ListTokenTypes {
    tokenTypes(first: 20) {
      id
      count
    }
  }
`,Lu="https://api.goldsky.com/api/public/project_clzbcvp9w9t5k011f7hbvc17s/subgraphs/zypher-pop-nft/1.0.1/gn";function ju(){ws("page.event-statistics"),Os("/internal/event-statistics");const[r,e]=V.useState([]),{loading:t,error:n,data:i}=zr(Mu);return V.useEffect(()=>{if(t||n||!i)return;nr("responsed data: %O",i);const s=i.tokenTypes,o=s.reduce((l,f)=>l+f.count,0);nr("total tokens: %d",o);const a={"proof-of-pulse":"Lv1","proof-of-play":"Lv2","proof-of-prism":"Lv3","pop-classic":"Lv1","pop-amplified":"Lv2","pop-legendary":"Lv3"},c=s.reduce((l,f)=>{const h=a[f.id];return h&&(l[h]=(l[h]||0)+f.count),l},{});nr("Summarized token types: %O",c);const u=["Lv1","Lv2","Lv3"].map(l=>({level:l,count:c[l]||0,percentage:(o>0?(c[l]??0)/o*100:0).toFixed(2)}));e(u)},[i]),M.jsx(Cs,{className:"event-statistics",title:"Event Statistics",children:M.jsx(xs,{variant:"soft",children:M.jsxs(Ds,{children:[M.jsx("caption",{children:"POP NFT Types"}),M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{children:"Lv"}),M.jsx("th",{children:"Count"}),M.jsx("th",{children:"%"})]})}),M.jsx("tbody",{children:r.map(s=>M.jsxs("tr",{children:[M.jsx("td",{children:s.level}),M.jsx("td",{children:s.count}),M.jsxs("td",{children:[s.percentage," %"]})]},s.level))})]})})})}const Vu=new $c({link:new du({uri:Lu}),cache:new Mc});function $u(){return M.jsx(Su,{client:Vu,children:M.jsx(ju,{})})}export{$u as Component};
